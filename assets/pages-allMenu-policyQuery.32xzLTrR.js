import{_ as e,n as t,o as s,f as l,l as a,F as i,i as o,w as r,g as c,k as n,t as u,m as d,p,q as h,cl as f,cm as g,cn as y,co as m,c9 as _,c7 as x,aI as k,ca as b,r as w,c as C,A as L,d as v,ab as z,a7 as $,ac as T,L as V,j as H,S as Q,h as j}from"./index-B3fvMXoi.js";import{_ as A}from"./z-paging.Ctbk3ePi.js";import{_ as F}from"./icon_port.Cp00gPzp.js";const I=e({components:{policyItemVue:e({data:()=>({}),props:{list:{type:Array,default:[]}},methods:{detail(e){t({url:"/pages/allMenu/policyDetail",success:t=>{t.eventChannel.emit("data",e)}})}}},[["render",function(e,t,f,g,y,m){const _=d,x=p,k=h;return s(!0),l(i,null,a(f.list,((e,t)=>(s(),o(k,{key:t,class:"bg_white_radius_16 u-flex-column u-m-10",onClick:t=>m.detail(e)},{default:r((()=>[c(k,{class:"u-flex u-flex-items-center",style:{"background-color":"#ebf4ff50",padding:"24rpx"}},{default:r((()=>[c(_,{src:F,style:{width:"64rpx",height:"64rpx"}}),c(x,{style:{"font-size":"30rpx",color:"#292A2B","margin-left":"16rpx",flex:"1"}},{default:r((()=>[n(u(e.policytitle),1)])),_:2},1024)])),_:2},1024),c(k,{class:"u-flex-column bg_white_radius_16 u-p-24"},{default:r((()=>[c(k,null,{default:r((()=>[c(k,{class:"u-flex"},{default:r((()=>[c(x,{class:"text_gray"},{default:r((()=>[n(" 类型 ")])),_:1}),c(x,{class:"text_black u-m-l-64"},{default:r((()=>[n(u(e.policytype),1)])),_:2},1024)])),_:2},1024),c(k,{class:"u-flex u-m-t-16"},{default:r((()=>[c(x,{class:"text_gray"},{default:r((()=>[n(" 有效性 ")])),_:1}),c(x,{class:"text_black u-m-l-40"},{default:r((()=>[n(u(e.status?"有效":"无效"),1)])),_:2},1024)])),_:2},1024),c(k,{class:"u-flex u-m-t-16"},{default:r((()=>[c(x,{class:"text_gray"},{default:r((()=>[n(" 相关 ")])),_:1}),c(x,{class:"text_black u-m-l-64"},{default:r((()=>[n(u(e.relate),1)])),_:2},1024)])),_:2},1024),c(k,{class:"u-flex u-m-t-16"},{default:r((()=>[c(x,{class:"text_gray"},{default:r((()=>[n(" 有效期 ")])),_:1}),c(x,{class:"text_black u-m-l-40"},{default:r((()=>[n(u(e.begintime+"至"+e.endtime),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)}],["__scopeId","data-v-e8863f46"]])},data:()=>({show:!1,keyword:"",listLabel:[],list:[],leftList:[],rightList:[],searchType:0,listType:[{key:"政策名",value:0,isChoosed:!0},{key:"城市",value:1},{key:"港口",value:2},{key:"铁路站",value:3}]}),onLoad(){this.getHistory(),setTimeout((()=>{this.$refs.paging.complete()}),300)},methods:{search(){this.$refs.paging.reload(!0),this.saveHistory()},clickLabel(e){this.keyword=e.record,this.$refs.paging.reload(!0)},getList(e,t){switch(this.searchType){case 0:m({current:e,size:t,policymethod:this.keyword,relates:["港口","铁路站","城市"]}).then((e=>{this.$refs.paging.complete(e.data.policyQuerys)})).catch((e=>{this.$refs.paging.complete(!1)}));break;case 1:y({current:e,size:t,city:this.keyword}).then((e=>{this.$refs.paging.complete(e.data.policyQuerys)})).catch((e=>{this.$refs.paging.complete(!1)}));break;case 2:g({current:e,size:t,port:this.keyword}).then((e=>{this.$refs.paging.complete(e.data.policyQuerys)})).catch((e=>{this.$refs.paging.complete(!1)}));break;case 3:f({current:e,size:t,station:this.keyword}).then((e=>{this.$refs.paging.complete(e.data.policyQuerys)})).catch((e=>{this.$refs.paging.complete(!1)}))}},getHistory(){_("政府补贴").then((e=>{this.listLabel=e.data}))},saveHistory(){x("政府补贴",this.keyword).then((e=>{this.getHistory()}))},deleteHistory(e){k({title:"提示",content:"是否删除记录",success:t=>{t.confirm&&b(e).then((e=>{this.getHistory()}))}})},chooseType(e){for(var t=0;t<this.listType.length;t++)this.listType[t].isChoosed=e==t,e==t&&(this.searchType=this.listType[e].value);this.$refs.paging.reload(!0),this.show=!1}}},[["render",function(e,t,d,f,g,y){const m=w(C("u-icon"),v),_=w(C("u-navbar"),z),x=p,k=w(C("u-search"),$),b=h,F=Q,I=L("policy-item-vue"),E=w(C("u-waterfall"),T),S=w(C("z-paging"),A),U=w(C("u-popup"),V);return s(),l(i,null,[c(S,{ref:"paging",modelValue:g.list,"onUpdate:modelValue":t[3]||(t[3]=e=>g.list=e),onQuery:y.getList,auto:!1,style:{background:"no-repeat top/100% url(/static/image/share/bg_share.png)",padding:"0 30rpx"}},{top:r((()=>[c(_,{placeholder:!0,borderBottom:!1,bgColor:"transparent"},{right:r((()=>[c(m,{name:"/static/image/share/icon_custom.png",size:16,onClick:t[0]||(t[0]=e=>g.show=!0)},null,8,["name"])])),_:1}),c(b,{class:"u-flex-column u-flex-items-center"},{default:r((()=>[c(x,{style:{"margin-top":"48rpx","font-size":"48rpx",color:"#000000","font-weight":"bold"}},{default:r((()=>[n(" 政府补贴 ")])),_:1}),c(k,{style:{width:"100%",margin:"20rpx 0"},height:"44",showAction:!1,bgColor:"white",borderColor:"#2647FF",placeholder:"请输入关键词查询",modelValue:g.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>g.keyword=e),onSearch:y.search},null,8,["modelValue","onSearch"]),g.listLabel.length>0?(s(),o(F,{key:0,"scroll-x":"true",style:{"white-space":"nowrap",margin:"10rpx 0"},"scroll-with-animation":"true"},{default:r((()=>[(s(!0),l(i,null,a(g.listLabel,((e,t)=>(s(),o(b,{key:t,class:"bg_white_radius_16",style:{display:"inline-block",padding:"10rpx 16rpx","margin-right":"16rpx"}},{default:r((()=>[c(b,{class:"u-flex u-flex-items-center"},{default:r((()=>[c(x,{style:{"font-size":"22rpx",color:"#666E81"},onClick:t=>y.clickLabel(e)},{default:r((()=>[n(u(e.record),1)])),_:2},1032,["onClick"]),c(m,{name:"close",size:"14",style:{"margin-left":"10rpx"},onClick:t=>y.deleteHistory(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):H("",!0)])),_:1})])),default:r((()=>[c(E,{modelValue:g.list,"onUpdate:modelValue":t[2]||(t[2]=e=>g.list=e)},{left:r((({leftList:e})=>[c(I,{list:e},null,8,["list"])])),right:r((({rightList:e})=>[c(I,{list:e},null,8,["list"])])),_:1},8,["modelValue"])])),_:1},8,["modelValue","onQuery"]),c(U,{show:g.show,round:"16"},{default:r((()=>[c(b,{class:"u-flex-column",style:{padding:"40rpx 30rpx"}},{default:r((()=>[c(b,{class:"u-flex u-flex-between"},{default:r((()=>[c(x,{style:{"font-size":"32rpx",color:"#272E3F","font-weight":"bold"}},{default:r((()=>[n(" 筛选 ")])),_:1}),c(m,{name:"close",color:"black",onClick:t[4]||(t[4]=e=>g.show=!1)})])),_:1}),c(x,{style:{"font-size":"24rpx",color:"#666E81","margin-top":"58rpx"}},{default:r((()=>[n(" 查询类型 ")])),_:1}),c(b,{class:"u-flex",style:{"flex-wrap":"wrap"}},{default:r((()=>[(s(!0),l(i,null,a(g.listType,((e,t)=>(s(),o(b,{class:j(e.isChoosed?"bg_filter_choosed":"bg_filter"),onClick:e=>y.chooseType(t),key:t},{default:r((()=>[n(u(e.key),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["show"])],64)}],["__scopeId","data-v-ed85f481"]]);export{I as default};
