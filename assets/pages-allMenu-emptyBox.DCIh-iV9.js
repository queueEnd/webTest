import{_ as e,n as t,o as s,f as a,l,F as i,i as o,w as r,g as d,k as n,t as c,m as u,p as h,q as p,s as f,cc as m,ca as y,aJ as g,cd as _,r as x,c as k,A as w,d as b,ac as z,a8 as C,ad as S,L,j as T,S as V,h as v}from"./index-FwbBwjbJ.js";import{_ as j}from"./z-paging.B7jAqyNm.js";import{d as H}from"./dayjs.min.C73DX6gN.js";import{d as A,e as F}from"./webApi.BfiE2cJS.js";import{_ as $}from"./icon_port.Cp00gPzp.js";const B=e({components:{emptyBoxItemVue:e({data:()=>({}),props:{list:{type:Array,default:[]},station:{type:String,default:""},address:{type:String,default:""}},methods:{detail(e){t({url:"/pages/allMenu/emptyBoxDetail?station="+this.station,success:t=>{t.eventChannel.emit("data",e)}})}}},[["render",function(e,t,f,m,y,g){const _=u,x=h,k=p;return s(!0),a(i,null,l(f.list,((e,t)=>(s(),o(k,{key:t,class:"bg_white_radius_16 u-flex-column u-m-10",onClick:t=>g.detail(e)},{default:r((()=>[d(k,{class:"u-flex u-flex-items-center",style:{"background-color":"#ebf4ff50",padding:"24rpx"}},{default:r((()=>[d(_,{src:$,style:{width:"64rpx",height:"64rpx"}}),d(x,{style:{"font-size":"30rpx",color:"#292A2B","margin-left":"16rpx",flex:"1"}},{default:r((()=>[n(c(f.station),1)])),_:1})])),_:1}),d(k,{class:"u-flex-column bg_white_radius_16 u-p-24"},{default:r((()=>[d(k,null,{default:r((()=>[d(k,{class:"u-flex"},{default:r((()=>[d(x,{class:"text_gray"},{default:r((()=>[n(" 箱型 ")])),_:1}),d(x,{class:"text_black u-m-l-64"},{default:r((()=>[n(c(e.type),1)])),_:2},1024)])),_:2},1024),d(k,{class:"u-flex u-m-t-16"},{default:r((()=>[d(x,{class:"text_gray"},{default:r((()=>[n(" 资源数 ")])),_:1}),d(x,{class:"text_black u-m-l-40"},{default:r((()=>[n(c(e.zys),1)])),_:2},1024)])),_:2},1024),d(k,{class:"u-flex u-m-t-16"},{default:r((()=>[d(x,{class:"text_gray"},{default:r((()=>[n(" 日期 ")])),_:1}),d(x,{class:"text_black u-m-l-64"},{default:r((()=>[n(c(e.rq),1)])),_:2},1024)])),_:2},1024),d(k,{class:"u-flex u-m-t-16"},{default:r((()=>[d(x,{class:"text_gray"},{default:r((()=>[n(" 地址 ")])),_:1}),d(x,{class:"text_black u-m-l-64"},{default:r((()=>[n(c(f.address),1)])),_:1})])),_:1})])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)}],["__scopeId","data-v-d340a1de"]])},data:()=>({show:!1,keyword:"",isSearch:!0,isShow:!1,listStation:[],listLabel:[],list:[],leftList:[],rightList:[],station:"",address:"",dbm:"",date:"",searchType:"全部",listType:[{key:"全部",isChoosed:!0},{key:"20英尺通用标准箱"},{key:"20英尺35吨通用箱"},{key:"20英尺35吨敞顶箱"},{key:"40英尺通用标准箱"},{key:"40英尺35吨通用箱"},{key:"45英尺35吨通用箱"},{key:"50英尺36吨通用内陆箱"},{key:"20英尺35吨顶开门箱"},{key:"20英尺35吨顶开门箱(粮食)"}]}),onLoad(){this.date=H((new Date).getTime()).format("YYYY-MM-DD"),this.getHistory(),setTimeout((()=>{this.$refs.paging.complete()}),300)},methods:{change(){0!=this.keyword.length?this.isSearch&&this.searchStaion():this.isShow=!1},choose(e){this.isSearch=!1,this.isShow=!1,this.keyword=e.hzzm,this.dbm=e.dbm,this.$refs.paging.reload(!0),setTimeout((()=>{this.isSearch=!0}),500)},clickLabel(e){this.keyword=e.record},searchStaion(){A(this.keyword).then((e=>{e.data.data.length>0&&(this.listStation=e.data.data,this.isShow=!0)}))},getList(){F({dbm:this.dbm,date:this.date,type:"全部"==this.searchType?[]:[this.searchType]}).then((e=>{0!=e.data.length?(this.$refs.paging.complete(e.data),this.station=e.hzzm.hzzm,this.address=e.hzzm.czdz,this.isShow=!1):f({title:"查询为空"})})).catch((e=>{this.$refs.paging.complete(!1)}))},getHistory(){m("铁路空箱").then((e=>{this.listLabel=e.data}))},saveHistory(){y("铁路空箱",this.keyword).then((e=>{this.getHistory()}))},deleteHistory(e){g({title:"提示",content:"是否删除记录",success:t=>{t.confirm&&_(e).then((e=>{this.getHistory()}))}})},chooseType(e){for(var t=0;t<this.listType.length;t++)this.listType[t].isChoosed=e==t,e==t&&(this.searchType=this.listType[e].key);this.show=!1,this.$refs.paging.reload(!0)}}},[["render",function(e,t,u,f,m,y){const g=x(k("u-icon"),b),_=x(k("u-navbar"),z),H=h,A=x(k("u-search"),C),F=p,$=V,B=w("empty-box-item-vue"),D=x(k("u-waterfall"),S),E=x(k("z-paging"),j),M=x(k("u-popup"),L);return s(),a(i,null,[d(F,{class:"u-flex-column"},{default:r((()=>[d(F,{class:"u-flex-column",style:{"z-index":"100",position:"sticky",top:"0",background:"no-repeat top/100% url(/static/image/share/bg_share.png)"}},{default:r((()=>[d(_,{placeholder:!0,borderBottom:!1,bgColor:"transparent"},{right:r((()=>[d(g,{name:"/static/image/share/icon_custom.png",size:16,onClick:t[0]||(t[0]=e=>m.show=!0)},null,8,["name"])])),_:1}),d(F,{class:"u-flex-column u-flex-items-center",style:{padding:"0 30rpx"}},{default:r((()=>[d(H,{style:{"margin-top":"48rpx","font-size":"48rpx",color:"#000000","font-weight":"bold"}},{default:r((()=>[n(" 铁路空箱 ")])),_:1}),d(F,{class:"u-flex-column",style:{position:"relative",width:"100%"}},{default:r((()=>[d(A,{style:{width:"100%",margin:"20rpx 0"},height:"44",showAction:!1,bgColor:"white",borderColor:"#2647FF",placeholder:"请输入关键词查询",modelValue:m.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>m.keyword=e),onChange:y.change},null,8,["modelValue","onChange"]),m.isShow?(s(),o($,{key:0,class:"bg_white_radius_8","scroll-y":"true",style:{height:"400rpx",position:"absolute",top:"120rpx",left:"0",right:"0","z-index":"100"}},{default:r((()=>[(s(!0),a(i,null,l(m.listStation,((e,t)=>(s(),o(F,{class:"u-flex-column",key:t,style:{padding:"10rpx 30rpx 0"},onClick:t=>y.choose(e)},{default:r((()=>[d(H,{style:{"font-size":"28rpx",color:"#272E3F"}},{default:r((()=>[n(c(e.hzzm),1)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):T("",!0)])),_:1}),m.listLabel.length>0?(s(),o($,{key:0,"scroll-x":"true",style:{"white-space":"nowrap",margin:"10rpx 0"},"scroll-with-animation":"true"},{default:r((()=>[(s(!0),a(i,null,l(m.listLabel,((e,t)=>(s(),o(F,{key:t,class:"bg_white_radius_16",style:{display:"inline-block",padding:"10rpx 16rpx","margin-right":"16rpx"}},{default:r((()=>[d(F,{class:"u-flex u-flex-items-center"},{default:r((()=>[d(H,{style:{"font-size":"22rpx",color:"#666E81"},onClick:t=>y.clickLabel(e)},{default:r((()=>[n(c(e.record),1)])),_:2},1032,["onClick"]),d(g,{name:"close",size:"14",style:{"margin-left":"10rpx"},onClick:t=>y.deleteHistory(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):T("",!0)])),_:1})])),_:1}),d(E,{style:{padding:"0 30rpx"},ref:"paging",modelValue:m.list,"onUpdate:modelValue":t[3]||(t[3]=e=>m.list=e),onQuery:t[4]||(t[4]=e=>y.getList()),"use-page-scroll":"",scrollable:!1,auto:!1,"loading-more-enabled":!1},{default:r((()=>[d(D,{modelValue:m.list,"onUpdate:modelValue":t[2]||(t[2]=e=>m.list=e)},{left:r((({leftList:e})=>[d(B,{list:e,address:m.address,station:m.station},null,8,["list","address","station"])])),right:r((({rightList:e})=>[d(B,{list:e,address:m.address,station:m.station},null,8,["list","address","station"])])),_:1},8,["modelValue"])])),_:1},8,["modelValue"])])),_:1}),d(M,{show:m.show,round:"16",onClose:t[6]||(t[6]=e=>m.show=!1)},{default:r((()=>[d(F,{class:"u-flex-column",style:{padding:"40rpx 30rpx"}},{default:r((()=>[d(F,{class:"u-flex u-flex-between"},{default:r((()=>[d(H,{style:{"font-size":"32rpx",color:"#272E3F","font-weight":"bold"}},{default:r((()=>[n(" 筛选 ")])),_:1}),d(g,{name:"close",color:"black",onClick:t[5]||(t[5]=e=>m.show=!1)})])),_:1}),d(H,{style:{"font-size":"24rpx",color:"#666E81","margin-top":"58rpx"}},{default:r((()=>[n(" 箱型 ")])),_:1}),d(F,{class:"u-flex",style:{"flex-wrap":"wrap"}},{default:r((()=>[(s(!0),a(i,null,l(m.listType,((e,t)=>(s(),o(F,{class:v(e.isChoosed?"bg_filter_choosed":"bg_filter"),onClick:e=>y.chooseType(t),key:t},{default:r((()=>[n(c(e.key),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["show"])],64)}],["__scopeId","data-v-7850aa72"]]);export{B as default};
