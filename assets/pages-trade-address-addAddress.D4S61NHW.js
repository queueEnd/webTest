import{_ as t,s,R as e,U as d,Q as a,r as i,c as o,A as r,i as l,w as n,d as c,K as u,L as f,o as h,g as p,k as y,j as _,t as m,h as C,an as x,q as g,N as A}from"./index-B3fvMXoi.js";import{_ as v}from"./z-paging.Ctbk3ePi.js";import{n as w}from"./zhdnTradeApi.Dx0rs8q0.js";import{a as b}from"./addressChoose.DZf4js60.js";import"./fuse.BI5DUiN0.js";const k=t({components:{addressChoose:b},props:{type:{type:Number,default:4},position:{type:Number,default:0}},data:()=>({country:null,province:null,city:null,district:null,detailAddress:"",showCity:!1}),computed:{canSubmit(){return this.country&&""!=this.detailAddress}},methods:{addressSelect(t){this.showCity=!1,this.country=t.country,this.province=t.province,this.city=t.city,this.district=t.district},chooseCity(){this.showCity=!0},countryText(){return this.province&&""!=this.province?this.province+this.city+this.district:this.country&&""!=this.country?this.country:""},addAddress(){if(!this.country||""==this.country)return void s({title:"请选择省市区或国家",icon:"none"});if(!this.detailAddress||""==this.detailAddress)return void s({title:"输入详细地址",icon:"none"});const t={type:this.type,district:this.district,city:this.city,country:this.country,province:this.province,address:this.detailAddress,isdefault:0};e({title:"正在提交..."}),w(t).then((t=>{d(),s({title:"已提交",icon:"success"});this.getOpenerEventChannel().emit("addAddress",{address:"1"}),a()})).catch((t=>{d(),s({icon:"error",title:"提交失败"})}))}}},[["render",function(t,s,e,d,a,w){const b=x,k=g,j=i(o("u-icon"),c),z=i(o("u-line"),u),B=A,N=r("addressChoose"),S=i(o("u-popup"),f),T=i(o("z-paging"),v);return h(),l(T,{style:{"background-color":"#f0f2f7"}},{default:n((()=>[p(k,{style:{"padding-top":"20rpx"}},{default:n((()=>[p(k,{class:"ad-textBg"},{default:n((()=>[p(b,{class:"ad-textBg__text",placeholder:"「粘贴识别」或输入文本，智能拆分省、市、区和  详细地址"}),p(k,{style:{display:"flex","justify-content":"flex-end"}},{default:n((()=>[p(k,{class:"ad-textBg__paste"},{default:n((()=>[y("粘贴并识别")])),_:1})])),_:1})])),_:1}),p(k,{class:"ad-address"},{default:n((()=>[0==e.type?(h(),l(k,{key:0,class:"ad-address__title"},{default:n((()=>[p(k,{class:"ad-address__title__flag"},{default:n((()=>[y("起")])),_:1}),p(k,{class:"ad-address__title__t"},{default:n((()=>[y("起运地")])),_:1})])),_:1})):_("",!0),1==e.type?(h(),l(k,{key:1,class:"ad-address__title"},{default:n((()=>[p(k,{class:"ad-address__title__flagEnd"},{default:n((()=>[y("目")])),_:1}),p(k,{class:"ad-address__title__t"},{default:n((()=>[y("目的地")])),_:1})])),_:1})):_("",!0),p(k,{class:"u-flex u-flex-items-center u-flex-between u-p-t-30 u-p-b-30",onClick:w.chooseCity},{default:n((()=>[a.country?(h(),l(k,{key:1,style:{"font-size":"26rpx",color:"#272e3f","font-weight":"500"}},{default:n((()=>[y(m(w.countryText()),1)])),_:1})):(h(),l(k,{key:0,style:{"font-size":"26rpx",color:"#A8B0BC","font-weight":"500"}},{default:n((()=>[y("省市区/国家")])),_:1})),p(j,{name:"arrow-right",size:"20rpx"})])),_:1},8,["onClick"]),p(z,{color:"#f0f2f7"}),p(k,{class:"u-p-t-30 u-p-b-30"},{default:n((()=>[p(B,{style:{"font-size":"26rpx",color:"#272e3f","font-weight":"500"},border:"bottom",modelValue:a.detailAddress,"onUpdate:modelValue":s[0]||(s[0]=t=>a.detailAddress=t),placeholder:"详细地址（例如**街**号**）","placeholder-style":{color:"#A8B0BC"}},null,8,["modelValue"])])),_:1}),p(z,{color:"#f0f2f7"}),p(k,{class:C(["ad-address__confirm",{active:w.canSubmit}]),onClick:w.addAddress},{default:n((()=>[y("确定")])),_:1},8,["class","onClick"])])),_:1})])),_:1}),p(S,{show:a.showCity,round:12,mode:"bottom"},{default:n((()=>[p(N,{style:{height:"1000rpx"},onConfirm:w.addressSelect,onClose:s[1]||(s[1]=t=>a.showCity=!1)},null,8,["onConfirm"])])),_:1},8,["show"])])),_:1})}],["__scopeId","data-v-3f073c28"]]);export{k as default};
