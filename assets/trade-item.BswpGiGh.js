import{_ as t,n as e,A as a,o as i,i as s,w as o,g as d,k as l,t as _,y as m,j as r,h as n,p as u,q as c,m as f}from"./index-B3fvMXoi.js";import{_ as h,a as g,b as y,c as p}from"./tr_l_time.ZU0OV5DV.js";const A=t({props:{item:{type:Object,default:null},isGoods:{type:Boolean,default:!1},isMine:{type:Boolean,default:!1}},data:()=>({typeMap:{"01":"集装箱多式联运","02":"散杂货多式联运","03":"件杂货多式联","04":"散改集运输","05":"集改散运输"},limitTimeMS:0,timeData:{}}),watch:{item:{handler(){if(this.item&&this.item.id){const t=this.item.addressList[0];if(this.item.startAddress=t.startAddress,this.item.endAddress=t.endAddress,"中国"!=t.startCountry&&""!=t.startCountry||"中国"!=t.endCountry&&""!=t.endCountry?this.item.isAborad="国际":this.item.isAborad="国内",1==this.item.isValid||2==this.item.isValid){const t=new Date(this.item.estimatedShippingTime);if(!isNaN(t.getTime())){this.item.deviationTime&&this.item.deviationTime>0&&t.setDate(t.getDate()+1-this.item.deviationTime);const e=Date.now(),a=new Date(t).getTime(),i=Math.floor(a-e);this.limitTimeMS=i}}else this.limitTimeMS=0;let e="",a="#FAAD14";switch(this.item.isValid){case 1:case 2:e="进行中",a="#FAAD14";break;case 3:e="已成交",a="#00CB40";break;case 4:e="已失效",a="#AAAAAA";break;case 5:e="已下架",a="#AAAAAA"}this.item.statusText=e,this.item.statusColor=a}},immediate:!0}},methods:{limitTimeChange(t){this.timeData=t},goDetail(){e({url:"/pages/trade/goodsDetail?id="+this.item.id})},showAllQuote(){e({url:"/pages/trade/quotationPage?id="+this.item.id})},showMatchQuote(){e({url:"/pages/trade/quotationDetail?isEnd=1&goodsId="+this.item.id})}}},[["render",function(t,e,A,D,b,k){const C=u,T=c,M=f,w=a("up-count-down");return i(),s(T,{class:"trade-item"},{default:o((()=>[d(T,{class:"trade-item__header"},{default:o((()=>[d(T,{class:"trade-item__header__orderNo"},{default:o((()=>[d(C,null,{default:o((()=>[l("NO:"+_(A.item.id),1)])),_:1}),d(C,{class:"trade-item__header__orderNo__tag"},{default:o((()=>[l(_(b.typeMap[A.item.source]),1)])),_:1})])),_:1}),d(T,{class:"trade-item__header__orderNo__status",style:m({"background-color":A.item.statusColor})},{default:o((()=>[l(_(A.item.statusText),1)])),_:1},8,["style"])])),_:1}),d(T,{class:"trade-item__route"},{default:o((()=>[d(C,{class:"trade-item__route__location"},{default:o((()=>[l(_(A.item.startAddress),1)])),_:1}),d(M,{class:"trade-item__route__arrow",src:h,mode:"aspectFit"}),d(C,{class:"trade-item__route__location"},{default:o((()=>[l(_(A.item.endAddress),1)])),_:1}),d(C,{class:"trade-item__route__tag"},{default:o((()=>[l(_(A.item.isAborad),1)])),_:1})])),_:1}),d(T,{class:"trade-item__info"},{default:o((()=>[d(T,{class:"trade-item__info__company"},{default:o((()=>[d(M,{class:"trade-item__info__company__icon",src:g}),d(C,{class:"trade-item__info__company__name"},{default:o((()=>[l(_(A.item.inquiryCompany),1)])),_:1})])),_:1}),d(T,{class:"trade-item__info__cargo"},{default:o((()=>[d(T,{class:"trade-item__info__cargo__item"},{default:o((()=>[d(M,{class:"trade-item-unit-logo",src:y}),d(C,{class:"trade-item-unit-value"},{default:o((()=>[l(_(A.item.product)+" "+_(A.item.goodWeightUnit)+" ±"+_(A.item.goodWeightDeviation)+"%",1)])),_:1}),d(C,{class:"trade-item-unit-text"},{default:o((()=>[l("交易价格")])),_:1})])),_:1}),d(T,{class:"trade-item__info__cargo__item"},{default:o((()=>[d(M,{class:"trade-item-unit-logo",src:p}),d(C,{class:"trade-item-unit-value"},{default:o((()=>[l(_(A.item.estimatedShippingTime)+"±"+_(A.item.deviationTime)+"天",1)])),_:1}),d(C,{class:"trade-item__info__cargo__item__price"},{default:o((()=>[l(_(A.item.intentionPrice)+"元/"+_(A.item.goodWeightUnit),1)])),_:1})])),_:1})])),_:1})])),_:1}),d(T,{class:"tr-goods-item-footer"},{default:o((()=>[b.limitTimeMS>0?(i(),s(T,{key:0,class:"tr-goods-item-footer__bg"},{default:o((()=>[d(T,{class:"tr-goods-item-footer__title"},{default:o((()=>[l("距报价结束")])),_:1}),d(w,{time:b.limitTimeMS,format:"HH:mm:ss",autoStart:"",millisecond:"",onChange:k.limitTimeChange},{default:o((()=>[d(T,{style:{display:"flex","align-items":"center"}},{default:o((()=>[b.timeData.days&&b.timeData.days>0?(i(),s(T,{key:0,class:"tr-goods-item-footer__day"},{default:o((()=>[l(_(b.timeData.days),1)])),_:1})):r("",!0),b.timeData.days&&b.timeData.days>0?(i(),s(C,{key:1,class:"tr-goods-item-footer__dayunit"},{default:o((()=>[l("天")])),_:1})):r("",!0),d(T,{class:"tr-goods-item-footer__item"},{default:o((()=>[l(_(b.timeData.hours>10?b.timeData.hours:"0"+b.timeData.hours),1)])),_:1}),d(C,{class:"tr-goods-item-footer__doc"},{default:o((()=>[l(":")])),_:1}),d(T,{class:"tr-goods-item-footer__item"},{default:o((()=>[l(_(String(b.timeData.minutes).padStart(2,"0")),1)])),_:1}),d(C,{class:"tr-goods-item-footer__doc"},{default:o((()=>[l(":")])),_:1}),d(T,{class:"tr-goods-item-footer__item"},{default:o((()=>[l(_(String(b.timeData.seconds).padStart(2,"0")),1)])),_:1})])),_:1})])),_:1},8,["time","onChange"])])),_:1})):A.isMine?(i(),s(T,{key:1,class:"u-flex-1"})):(i(),s(T,{key:2},{default:o((()=>[l("报价已结束")])),_:1})),A.isMine?(i(),s(T,{key:3,class:"u-flex",style:{gap:"16rpx"}},{default:o((()=>[1!=A.item.isValid&&2!=A.item.isValid?(i(),s(T,{key:0,class:"quote-border-btn",onClick:k.showAllQuote},{default:o((()=>[l("报价方案")])),_:1},8,["onClick"])):r("",!0),3==A.item.isValid?(i(),s(T,{key:1,class:"quote-border-btn",onClick:k.showMatchQuote},{default:o((()=>[l("成交方案")])),_:1},8,["onClick"])):r("",!0),d(T,{class:"quote-btn",onClick:k.goDetail},{default:o((()=>[l("查看详情")])),_:1},8,["onClick"])])),_:1})):(i(),s(T,{key:4,class:n(1==A.item.isValid||2==A.item.isValid?"quote-btn":"quote-btn_disable")},{default:o((()=>[l("在线报价")])),_:1},8,["class"]))])),_:1})])),_:1})}],["__scopeId","data-v-fb7519eb"]]);export{A as t};
