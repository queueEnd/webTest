import{_ as e,ak as t,c9 as s,aI as l,ca as o,cq as a,s as r,n as i,r as n,c as d,A as c,f as u,g as h,w as p,F as x,ab as m,b,q as f,d as g,ac as y,aZ as _,e as w,o as k,k as A,i as C,j as L,y as V,l as H,m as N,p as B,S as z,t as F}from"./index-B3fvMXoi.js";import{h as $,_ as j}from"./banner_1.DXMLql39.js";import{_ as v}from"./icon_exchange.BR_gTjrT.js";import"./icon_arrow.Dhtc8TwB.js";const P=e({components:{hotLineVue:$},data(){const{windowWidth:e}=t();return{typeName:"",bgColor:"transparent",startAddress:"",endAddress:"",product:"",box:"20GP",showBox:!1,boxList:[["20GP","40GP","40HQ","45HQ"]],isNew:!0,listLabel:[],list:[],leftList:[],rightList:[],windowWidth:e}},onLoad(e){this.typeName=e.typeName,"铁运查询"==this.typeName&&(this.boxList=[["20英尺集装箱","40英尺集装箱","35吨敞顶箱","批量快运","整车"]],this.box="20英尺集装箱")},onShow(){this.getHistory(),this.getHotLine()},methods:{exchange(){let e=this.startAddress;this.startAddress=this.endAddress,this.endAddress=e},boxConfirm(e){this.box=e.value[0],this.showBox=!1},getHistory(){s(this.typeName).then((e=>{this.listLabel=e.data}))},deleteHistory(e){l({title:"提示",content:"是否删除记录",success:t=>{t.confirm&&o(e).then((e=>{this.getHistory()}))}})},clearHistory(){l({title:"提示",content:"是否清空记录",success:e=>{if(e.confirm){let e="";for(let t of this.listLabel)e=e+t.id+",";o(e).then((e=>{this.listLabel=[]}))}}})},clickLabel(e){let t=e.record.split("-");this.startAddress=t[0],this.endAddress=t[1]},getHotLine(){a(this.typeName).then((e=>{this.list=e.data}))},search(){0!=this.startAddress.length?0!=this.endAddress.length?i({url:`/pages/allMenu/transportQuery?typeName=${this.typeName}&startAddress=${this.startAddress}&endAddress=${this.endAddress}&product=${this.product}&box=${this.box}`}):r({title:"请输入目的地",icon:"error"}):r({title:"请输入起运地",icon:"error"})}},onPageScroll(e){e.scrollTop>20?this.bgColor="#DDF3FE":this.bgColor="transparent"}},[["render",function(e,t,s,l,o,a){const r=n(d("u-navbar"),m),i=N,$=n(d("u-input"),b),P=f,U=n(d("u-icon"),g),D=B,G=z,Q=c("hot-line-vue"),S=n(d("u-waterfall"),y),W=n(d("u-empty"),_),q=n(d("u-picker"),w);return k(),u(x,null,[h(P,{class:"u-flex-column",style:{background:"no-repeat top/100% url(../../static/image/home/bg_index.png)",padding:"0 30rpx 75px"}},{default:p((()=>[h(r,{placeholder:!0,borderBottom:!1,bgColor:o.bgColor,title:o.typeName},null,8,["bgColor","title"]),h(i,{src:j,style:{height:"82px",width:"100%",margin:"20rpx 0"}}),h(P,{class:"bg_white_radius_16 u-p-30 u-flex-column"},{default:p((()=>[h(P,{class:"u-flex u-flex-between u-flex-items-center",style:{margin:"30rpx 0"}},{default:p((()=>[h($,{modelValue:o.startAddress,"onUpdate:modelValue":t[0]||(t[0]=e=>o.startAddress=e),"auto-height":!0,placeholder:"起运地",border:"bottom"},null,8,["modelValue"]),h(i,{src:v,style:{width:"60rpx",height:"60rpx",margin:"0 40rpx"},onClick:a.exchange},null,8,["onClick"]),h($,{modelValue:o.endAddress,"onUpdate:modelValue":t[1]||(t[1]=e=>o.endAddress=e),"auto-height":!0,placeholder:"目的地",border:"bottom"},null,8,["modelValue"])])),_:1}),h(P,{class:"u-flex u-flex-items-center u-flex-between"},{default:p((()=>[h($,{modelValue:o.product,"onUpdate:modelValue":t[2]||(t[2]=e=>o.product=e),"auto-height":!0,placeholder:"货种名称",border:""},null,8,["modelValue"]),h(U,{name:"arrow-right",color:"#999999",label:o.box,"label-pos":"left","label-size":"16","label-color":"#292A2B",onClick:t[3]||(t[3]=e=>o.showBox=!0)},null,8,["label"])])),_:1}),h(P,{style:{position:"relative","margin-top":"30rpx"}},{default:p((()=>[h(P,{class:"u-flex u-flex-center bg_btn",onClick:t[4]||(t[4]=e=>a.search())},{default:p((()=>[h(D,{style:{"font-size":"32rpx",color:"white"}},{default:p((()=>[A(" 运价查询 ")])),_:1})])),_:1}),o.isNew?(k(),C(D,{key:0,class:"scale_btn",style:{"font-size":"20rpx",color:"#B46422","background-color":"#FFDF81",padding:"12rpx","border-radius":"50rpx 50rpx 50rpx 0",position:"absolute",right:"0",top:"-30rpx"}},{default:p((()=>[A(" 新用户免费查询3次 ")])),_:1})):L("",!0)])),_:1}),o.listLabel.length>0?(k(),C(P,{key:0,class:"u-flex u-flex-items-center u-m-t-30 u-flex-between"},{default:p((()=>[h(G,{"scroll-x":"true",style:V([`width:${o.windowWidth-95}px ;`,{"white-space":"nowrap"}]),"scroll-with-animation":"true"},{default:p((()=>[(k(!0),u(x,null,H(o.listLabel,((e,t)=>(k(),C(P,{key:t,class:"bg_gray_radius_15",style:{display:"inline-block",padding:"6rpx 16rpx","margin-right":"16rpx"}},{default:p((()=>[h(P,{class:"u-flex u-flex-items-center"},{default:p((()=>[h(D,{style:{"font-size":"22rpx",color:"#666E81"},onClick:t=>a.clickLabel(e)},{default:p((()=>[A(F(e.record),1)])),_:2},1032,["onClick"]),h(U,{name:"close",size:"14",style:{"margin-left":"10rpx"},onClick:t=>a.deleteHistory(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["style"]),h(D,{class:"text_black_12",onClick:a.clearHistory},{default:p((()=>[A(" 清除 ")])),_:1},8,["onClick"])])),_:1})):L("",!0)])),_:1}),h(D,{style:{"font-size":"32rpx",color:"#292A2B","font-weight":"bold",margin:"40rpx 0 24rpx"}},{default:p((()=>[A(" 热门线路 ")])),_:1}),o.list.length>0?(k(),C(S,{key:0,modelValue:o.list,"onUpdate:modelValue":t[5]||(t[5]=e=>o.list=e)},{left:p((({leftList:e})=>[h(Q,{list:e},null,8,["list"])])),right:p((({rightList:e})=>[h(Q,{list:e},null,8,["list"])])),_:1},8,["modelValue"])):(k(),C(W,{key:1}))])),_:1}),h(q,{title:"箱型选择",show:o.showBox,columns:o.boxList,onConfirm:a.boxConfirm,onCancel:t[6]||(t[6]=e=>o.showBox=!1)},null,8,["show","columns","onConfirm"])],64)}],["__scopeId","data-v-627804e5"]]);export{P as default};
