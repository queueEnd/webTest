import{_ as e,cw as s,R as t,n as a,aJ as l,T as d,cx as n,V as i,bO as o,r as c,c as r,f as u,g as h,w as m,F as p,a9 as f,a8 as g,aa as _,p as y,q as x,d as k,o as C,l as b,j as A,k as w,i as F,t as T,aj as j}from"./index-oXtcu1jG.js";const v=e({data:()=>({keyword:"",tabs:[{name:"起运地"},{name:"目的地"}],type:1,list:[],listTemp:[]}),onShow(){this.getAddress()},methods:{search(e){if(0!=e.length){this.list=[];for(let s of this.listTemp)(s.name.includes(e)||s.phone.includes(e)||s.address.includes(e))&&this.list.push(s)}else this.list=this.listTemp},getAddress(){s(this.type).then((e=>{this.list=e.data,this.listTemp=e.data}))},change(e){0==e.index?this.type=1:this.type=2,this.getAddress()},chooseAddress(e){this.getOpenerEventChannel().emit("address",JSON.stringify(e)),t()},addAddress(){a({url:"/pages/smart/addAddress?type="+this.type})},edit(e){a({url:"/pages/smart/addAddress",success:s=>{s.eventChannel.emit("edit",e)}})},deleteAddress(e){l({title:"提示",content:"是否删除该地址",success:s=>{s.confirm&&(d({}),n(e.id).then((e=>{200==e.code&&this.getAddress()})).finally((e=>{i()})))}})},copyAddress(e){let s="姓名："+e.name+"\n电话："+e.phone+"\n地址："+e.address;o({data:s})}}},[["render",function(e,s,t,a,l,d){const n=c(r("u-tabs"),f),i=c(r("u-search"),g),o=c(r("u-sticky"),_),v=y,z=x,V=c(r("u-icon"),k);return C(),u(p,null,[h(z,{class:"u-flex-column",style:{"padding-bottom":"100px"}},{default:m((()=>[h(o,{style:{"background-color":"white"}},{default:m((()=>[h(n,{style:{"background-color":"white"},list:l.tabs,lineColor:"#2647FF",activeStyle:{color:"#2647FF","font-size":"30rpx","font-weight":"bold"},onChange:d.change,scrollable:!1},null,8,["list","onChange"]),h(i,{modelValue:l.keyword,"onUpdate:modelValue":s[0]||(s[0]=e=>l.keyword=e),showAction:!1,placeholder:"搜索",onChange:d.search,style:{margin:"20rpx 30rpx"}},null,8,["modelValue","onChange"])])),_:1}),l.list.length>0?(C(!0),u(p,{key:0},b(l.list,((e,s)=>(C(),F(z,{key:s,class:"bg_white_radius_8 u-flex-column u-p-30",style:{margin:"20rpx 30rpx 0"},onClick:s=>d.chooseAddress(e)},{default:m((()=>[h(z,{class:"u-flex u-flex-items-center"},{default:m((()=>[h(v,{class:"text_black_15"},{default:m((()=>[w(T(e.name),1)])),_:2},1024),h(v,{class:"text_black_12 u-m-l-20"},{default:m((()=>[w(T(e.phone),1)])),_:2},1024)])),_:2},1024),h(v,{class:"text_gray_13 u-m-t-20"},{default:m((()=>[w(T(e.address),1)])),_:2},1024),h(z,{style:{"background-color":"#F1F3F5",height:"2rpx",margin:"30rpx 0"}}),h(z,{class:"u-flex",style:{"justify-content":"flex-end"}},{default:m((()=>[h(z,{class:"u-flex u-flex-items-center",onClick:j((s=>d.edit(e)),["stop"])},{default:m((()=>[h(V,{name:"/static/image/smart/icon_edit.png",size:"12"}),h(v,{class:"text_gray_12 u-m-l-12"},{default:m((()=>[w(" 编辑 ")])),_:1})])),_:2},1032,["onClick"]),h(z,{class:"u-flex u-flex-items-center u-m-l-40",onClick:j((s=>d.deleteAddress(e)),["stop"])},{default:m((()=>[h(V,{name:"/static/image/smart/icon_delete.png",size:"12"}),h(v,{class:"text_gray_12 u-m-l-12"},{default:m((()=>[w(" 删除 ")])),_:1})])),_:2},1032,["onClick"]),h(z,{class:"u-flex u-flex-items-center u-m-l-40",onClick:j((s=>d.copyAddress(e)),["stop"])},{default:m((()=>[h(V,{name:"/static/image/onway/gray_copy.png",size:"12"}),h(v,{class:"text_gray_12 u-m-l-12"},{default:m((()=>[w(" 复制 ")])),_:1})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["onClick"])))),128)):A("",!0)])),_:1}),h(v,{class:"bg_btn",onClick:d.addAddress},{default:m((()=>[w(" 新增地址 ")])),_:1},8,["onClick"])],64)}],["__scopeId","data-v-895a7140"]]);export{v as default};
