import{_ as e,$ as t,O as s,Q as a,s as l,cs as r,n as i,aI as c,R as n,aP as o,U as u,r as d,c as b,A as f,f as x,g as p,w as h,F as m,H as A,d as g,a7 as _,a8 as y,K as k,o as w,l as T,q as C,i as S,k as B,t as z,h as E,ai as U,j as F,p as V,m as O}from"./index-B3fvMXoi.js";import{_ as v}from"./z-paging.Ctbk3ePi.js";import{_ as G}from"./pay.DGiOaL6y.js";import{a as j}from"./addComment.D0TZMXWG.js";import{_ as L}from"./icon_arrow.D1jJ-NuQ.js";import"./icon_wx_pay.CKd9SVuO.js";const Q=e({components:{addCommentVue:j},data:()=>({isShow:!1,isAgree:!1,isAdd:!1,keyword:"",current:0,tabs:[{name:"全部",status:0},{name:"待确认",status:2},{name:"待付款",status:3},{name:"已付款",status:4},{name:"待评价",status:6},{name:"已评价",status:7}],list:[],status:0}),onLoad(e){e.current&&(this.current=e.current,this.status=this.tabs[this.current].status),t("agree",(()=>{this.isShow=!0,this.isAgree=!0}))},onUnload(){s("agree")},methods:{back(){a()},search(){l({title:""+this.keyword})},change(e){this.status=e.status,this.$refs.paging.reload(!0)},getList(e,t){r({current:e,size:t,queryStatus:this.status}).then((e=>{this.$refs.paging.complete(e.data.records)})).catch((e=>{this.$refs.paging.complete(!1)}))},setStatus(e){switch(e.queryStatus){case 1:return{status:"待审核",color:"text_red_12"};case 2:return{status:"待确认",color:"text_red_12"};case 3:return{status:"待付款",color:"text_red_12"};case 4:return{status:"已付款",color:"text_blue_12"};case 5:return{status:"已完成",color:"text_blue_12"};case 6:return{status:"待评价",color:"text_blue_12"};case 7:return{status:"已评价",color:"text_gray_12"}}},setTab(e){switch(e.queryStatus){case 1:case 2:return{isTab:!1,tab:"",isTab2:!0,tab2:"联系客服",isTab3:!0,tab3:"取消订单"};case 3:return{isTab:!0,tab:"联系客服",isTab2:!0,tab2:"取消订单",isTab3:!0,tab3:"去支付"};case 4:return{isTab:!1,tab:"",isTab2:!0,tab2:"物流轨迹",isTab3:!0,tab3:"联系客服"};case 5:case 6:return{isTab:!0,tab:"再来一单",isTab2:!0,tab2:"物流轨迹",isTab3:!0,tab3:"去评价"};case 7:return{isTab:!1,tab:"",isTab2:!0,tab2:"删除订单",isTab3:!0,tab3:"再来一单"}}},clickTab(e){switch(e){case"联系客服":this.service();break;case"再来一单":this.buyAgain()}},clickTab2(e){switch(e){case"联系客服":this.service();break;case"取消订单":case"删除订单":this.cancelOrder();break;case"物流轨迹":this.path()}},clickTab3(e){switch(e){case"取消订单":this.cancelOrder();break;case"去支付":this.pay();break;case"联系客服":this.service();break;case"去评价":this.addComment();break;case"再来一单":this.buyAgain()}},detail(e){i({url:"/pages/smart/orderDetail?id="+e.id})},service(){l({title:"联系客服"})},cancelOrder(){c({title:"取消订单",content:"订单已提交成功，是否取消订单？",success:e=>{e.confirm&&(n({}),o(this.detail.id).then((e=>{200==e.code&&(l({title:"删除成功"}),this.$refs.paging.reload(!0))})).finally((e=>{u()})))}})},pay(){this.isAgree?this.isShow=!0:i({url:"/pages/smart/contractPreview?path=http://f.sinocean.com/group1/M00/00/46/wKh7JGIe0VyAV04eABQc9Wfug7s544.pdf"})},buyAgain(){l({title:"再买一单"})},path(){l({title:"物流轨迹"})},addComment(){this.isAdd=!0}}},[["render",function(e,t,s,a,l,r){const i=d(b("u-status-bar"),A),c=d(b("u-icon"),g),n=C,o=d(b("u-search"),_),u=d(b("u-tabs"),y),j=V,Q=O,I=d(b("u-line"),k),J=d(b("z-paging"),v),K=d(b("pay"),G),W=f("add-comment-vue");return w(),x(m,null,[p(J,{ref:"paging",modelValue:l.list,"onUpdate:modelValue":t[1]||(t[1]=e=>l.list=e),onQuery:r.getList},{top:h((()=>[p(i),p(n,{class:"u-flex",style:{padding:"20rpx 30rpx 0","background-color":"white"}},{default:h((()=>[p(n,{class:"u-flex u-flex-items-center u-p-r-44",onClick:r.back},{default:h((()=>[p(c,{name:"arrow-left",color:"black",size:"17"})])),_:1},8,["onClick"]),p(o,{onSearch:r.search,modelValue:l.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>l.keyword=e),shape:"",showAction:!1,"bg-color":"#F4F4F4",height:"32px",placeholder:"请输入订单号、关键词查询",style:{border:"0.5px solid #f0f0f1","border-radius":"8px"}},null,8,["onSearch","modelValue"])])),_:1}),p(u,{style:{"background-color":"white"},list:l.tabs,lineColor:"#292A2B",activeStyle:{color:"#292A2B","font-size":"30rpx","font-weight":"bold"},inactiveStyle:{color:"#666E81","font-size":"30rpx"},onChange:r.change,current:l.current},null,8,["list","onChange","current"])])),default:h((()=>[(w(!0),x(m,null,T(l.list,((e,t)=>(w(),S(n,{key:t,class:"u-flex-column bg_white_radius_8 u-p-30",style:{margin:"20rpx 30rpx 0"},onClick:t=>r.detail(e)},{default:h((()=>[p(n,{class:"u-flex u-flex-between u-flex-items-center"},{default:h((()=>[p(n,{class:"u-flex u-flex-items-center"},{default:h((()=>[p(j,{class:"text_black_12"},{default:h((()=>[B(" 订单单号："+z(e.productNo),1)])),_:2},1024),p(Q,{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYBAMAAAASWSDLAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAASUExURUdwTAAA/2VtgWZugGdugWZugWB7Y5EAAAAFdFJOUwABxMPCecx4WQAAADtJREFUGNNjYMAHmELBQAHMYYVwAiCcAASJzGGBKgJzWFE4gRBFJHECyOZAHArnKOBxM5rXoJ42wBsyAFLOG2Lg66n2AAAAAElFTkSuQmCC",style:{width:"24rpx",height:"24rpx","margin-left":"8rpx"}})])),_:2},1024),p(j,{class:E(r.setStatus(e).color)},{default:h((()=>[B(z(r.setStatus(e).status),1)])),_:2},1032,["class"])])),_:2},1024),p(I,{style:{margin:"30rpx 0"}}),p(n,{class:"u-flex u-flex-items-center",style:{"align-items":"baseline",margin:"30rpx"}},{default:h((()=>[p(n,{class:"u-flex-column",style:{flex:"1"}},{default:h((()=>[p(j,{style:{color:"#292A2B","font-size":"32rpx"}},{default:h((()=>[B(z(e.startaddress.split(",")[1]),1)])),_:2},1024),p(j,{class:"u-line-1",style:{color:"#666E81","font-size":"24rpx","margin-top":"10rpx"}},{default:h((()=>[B(z(e.startaddress.split(",")[0]),1)])),_:2},1024)])),_:2},1024),p(n,{class:"u-flex-column u-flex-items-center"},{default:h((()=>[p(j,{style:{"font-size":"20rpx",color:"#666E81"}},{default:h((()=>[B(z(e.transtype),1)])),_:2},1024),p(Q,{src:L,style:{width:"132rpx",height:"12rpx",margin:"0 20rpx","align-self":"center"}})])),_:2},1024),p(n,{class:"u-flex-column",style:{flex:"1","align-items":"flex-end"}},{default:h((()=>[p(j,{style:{color:"#292A2B","font-size":"32rpx","text-align":"end"}},{default:h((()=>[B(z(e.endaddress.split(",")[1]),1)])),_:2},1024),p(j,{class:"u-line-1",style:{color:"#666E81","font-size":"24rpx","margin-top":"10rpx","text-align":"end"}},{default:h((()=>[B(z(e.endaddress.split(",")[0]),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(n,{class:"u-flex u-flex-between u-flex-items-center"},{default:h((()=>[p(c,{name:"/static/image/smart/icon_logo.png",size:"16",label:"官方自营","label-size":"12","label-color":"#292A2B",space:"8"}),p(n,{class:"u-flex",style:{"align-items":"baseline"}},{default:h((()=>[p(j,{style:{"font-size":"24rpx",color:"#292A2B"}},{default:h((()=>[B(" 实付金额 ")])),_:1}),p(j,{class:"text_black_14",style:{margin:"0 10rpx"}},{default:h((()=>[B(" ¥ ")])),_:1}),p(j,{class:"text_black_18"},{default:h((()=>[B(z(e.totalPrice),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),p(n,{class:"u-flex u-flex-between u-flex-items-center u-m-t-30"},{default:h((()=>[p(j,{class:"text_gray_14"},{default:h((()=>[B(" 更多 ")])),_:1}),p(n,{class:"u-flex"},{default:h((()=>[r.setTab(e).isTab?(w(),S(n,{key:0,class:"btn_white u-flex u-flex-items-center u-flex-center",onClick:U((t=>r.clickTab(r.setTab(e).tab)),["stop"])},{default:h((()=>[B(z(r.setTab(e).tab),1)])),_:2},1032,["onClick"])):F("",!0),r.setTab(e).isTab2?(w(),S(n,{key:1,class:"btn_white u-flex u-flex-items-center u-flex-center",onClick:U((t=>r.clickTab2(r.setTab(e).tab2)),["stop"])},{default:h((()=>[B(z(r.setTab(e).tab2),1)])),_:2},1032,["onClick"])):F("",!0),r.setTab(e).isTab3?(w(),S(n,{key:2,class:"btn_blue u-flex u-flex-items-center u-flex-center",onClick:U((t=>r.clickTab3(r.setTab(e).tab3)),["stop"])},{default:h((()=>[B(z(r.setTab(e).tab3),1)])),_:2},1032,["onClick"])):F("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"]),p(K,{isShow:l.isShow,onClose:t[2]||(t[2]=e=>l.isShow=!1)},null,8,["isShow"]),p(W,{isShow:l.isAdd,onClose:t[3]||(t[3]=e=>l.isAdd=!1),lineId:r.detail.lineid,orderId:r.detail.id},null,8,["isShow","lineId","orderId"])],64)}],["__scopeId","data-v-7edf0a7e"]]);export{Q as default};
