import{_ as t,al as e,n as a,am as o,s as n,r as l,c as s,f as i,g as r,w as c,F as d,ac as p,q as u,a8 as f,d as h,o as g,ai as x,y as m,k as b,t as w,l as _,p as y,S as v,i as A}from"./index-FwbBwjbJ.js";import{_ as C}from"./l-floating-panel.Dh9Shm3z.js";import{A as k}from"./AmapUtil.CIrCVBrz.js";import"./constants.mpH2PV74.js";const z=t({data(){const{windowHeight:t}=e();return{windowHeight:t,anchors:[50,Math.round(.4*t),Math.round(.8*t)],listCount:[],list:[]}},onLoad(t){this.getStation()},mounted(){k.createInstance()},methods:{search(t){if(0==t.length)return void(this.listCount=this.list);let e=[];for(let a of this.list)a.province.includes(t)&&e.push(a);this.listCount=e},check(t){a({url:"/pages/share/provinceStation?province="+t})},getStation(){o().then((t=>{0!=t.data.length?(this.list=t.data,this.listCount=t.data,setTimeout((()=>{this.initAmap()}),200)):n({title:"站点信息为空"})}))},initAmap(){const t=new AMap.Map("container",{viewMode:"2D"});for(let e of this.listCount){new AMap.Marker({map:t,position:[e.lon,e.lat],icon:new AMap.Icon({image:"/static/image/share/icon_location_province.png",imageSize:new AMap.Size(22,30)}),anchor:"bottom-center",label:{content:`<div style="display: flex;flex-direction: row;align-items: center;\n\t\t\t\t\t\tbackground: white;border-radius: 4px;">\n\t\t\t\t\t\t\t\t\t\t<div style="padding: 8px 6px;background-color: #2647FF;\n\t\t\t\t\t\t\t\t\t\tcolor:white;font-size: 14px;\n\t\t\t\t\t\t\t\t\t\tborder-radius: 4px 0 0 4px;">总</div>\n\t\t\t\t\t\t\t\t\t\t<div style="padding:8px;color:#333333;font-size: 14px;">${e.num}</div>\n\t\t\t\t\t\t\t\t</div>`,direction:"top",offset:new AMap.Pixel(0,-5)}}).on("click",(function(t){n({title:"坐标"+t.lnglat.getLng()+"\n"+t.lnglat.getLat()})}))}t.setFitView()}},onPageScroll(t){t.scrollTop>400?this.bgColor="white":this.bgColor="transparent"}},[["render",function(t,e,a,o,n,k){const z=l(s("u-navbar"),p),F=u,M=l(s("u-search"),f),S=y,j=l(s("u-icon"),h),E=v,H=l(s("l-floating-panel"),C);return g(),i(d,null,[r(F,{class:"u-flex-column"},{default:c((()=>[r(z,{borderBottom:!1,bgColor:"transparent",title:"集装箱办理站"}),x("div",{id:"container",class:"map",style:m([{width:"100%"},"height:"+n.windowHeight+"px"])},null,4)])),_:1}),r(H,{anchors:n.anchors,defaultAnchor:1},{default:c((()=>[r(F,{class:"u-flex-column",style:{padding:"30rpx"}},{default:c((()=>[r(M,{showAction:!1,placeholder:"请输入省市进行查询",onChange:k.search},null,8,["onChange"]),r(S,{style:{"font-size":"28rpx",color:"#272E3F","margin-top":"30rpx","font-weight":"bold"}},{default:c((()=>[b(" 站点统计 ")])),_:1}),r(F,{class:"u-flex u-m-t-20"},{default:c((()=>[r(S,{style:{"font-size":"24rpx",color:"#292A2B"}},{default:c((()=>[b(" 国内 ")])),_:1}),r(S,{style:{"font-size":"24rpx",color:"#FAAD14","margin-left":"10rpx"}},{default:c((()=>[b(w(n.list.length),1)])),_:1})])),_:1}),r(E,{"scroll-y":"",style:m([{"margin-top":"20rpx"},"height:"+(n.anchors[2]-180)+"px"])},{default:c((()=>[(g(!0),i(d,null,_(n.listCount,((t,e)=>(g(),A(F,{key:e,class:"u-flex u-flex-between u-flex-items-center",style:{background:"#f8f9fd","border-radius":"8px",padding:"32rpx 24rpx","margin-top":"20rpx"}},{default:c((()=>[r(j,{style:{flex:"1"},name:"/static/image/share/icon_station_blue.png",size:"18",label:e+1+"."+t.province,"label-color":"#272E3F","label-size":"13",space:"10"},null,8,["label"]),r(F,{class:"u-flex u-m-l-20 u-m-r-40"},{default:c((()=>[r(S,{style:{"font-size":"28rpx",color:"#666E81"}},{default:c((()=>[b(" 站点数量： ")])),_:1}),r(S,{style:{"font-size":"28rpx",color:"#2647FF"}},{default:c((()=>[b(w(t.num),1)])),_:2},1024)])),_:2},1024),r(S,{style:{background:"white",border:"0.5px solid #2647ff","border-radius":"4px","font-size":"24rpx",color:"#2647FF",padding:"12rpx 24rpx"},onClick:e=>k.check(t.province)},{default:c((()=>[b(" 查看 ")])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1},8,["style"])])),_:1})])),_:1},8,["anchors"])],64)}],["__scopeId","data-v-19a9cbba"]]);export{z as default};
