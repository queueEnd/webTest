import{_ as e,Q as l,R as o,a,n as s,T as t,U as n,V as r,s as i,r as d,c as u,i as c,w as m,H as f,d as p,K as h,b as g,W as x,X as _,o as y,g as C,k,q as w,p as M,m as b}from"./index-oXtcu1jG.js";import{_ as S}from"./z-paging.5yIaKEvz.js";import{_ as z}from"./login-wechat.BcCbROG6.js";const B=e({data:()=>({formRules:{nextPath:"",phone:[{required:!0,message:"请输入手机号",trigger:["change","blur"]},{validator:(e,l,o)=>uni.$u.test.mobile(l),message:"手机号码不正确",trigger:["change","blur"]}]},formModel:{phone:""}}),onLoad(e){e.path&&(this.nextPath=decodeURIComponent(e.path))},methods:{goBack(){l().length>0?o():a({url:"/pages/index/index"})},loginByPwd(){s({url:"/pages/login/loginpwd"})},sendSMSCode(){this.$refs.uForm.validate().then((e=>{this.toApiSMSCode()})).catch((e=>{}))},toApiSMSCode(){t({title:"正在发送...",mask:!0}),n(this.formModel.phone).then((e=>{if(e.data.code){r(),i({icon:"none",title:"验证码已发送"});const l={smsKey:e.data.code,phone:this.formModel.phone},o=JSON.stringify(l);s({url:"/pages/login/loginphone",success:function(e){e.eventChannel.emit("smsInfo",{data:o})}})}})).catch((e=>{r(),i({icon:"error",title:"发送失败"})}))}}},[["render",function(e,l,o,a,s,t){const n=d(u("u-status-bar"),f),r=d(u("u-icon"),p),i=w,B=M,F=d(u("u-line"),h),P=d(u("u-input"),g),v=d(u("u-form-item"),x),A=d(u("u--form"),_),R=b,V=d(u("z-paging"),S);return y(),c(V,null,{bottom:m((()=>[C(i,{class:"u-p-b-60",style:{display:"flex","flex-direction":"column","align-items":"center"}},{default:m((()=>[C(i,{class:"u-flex u-flex-items-center"},{default:m((()=>[C(F,{length:"224rpx"}),C(B,{style:{"font-size":"24rpx",color:"#666e81",margin:"0 20rpx"}},{default:m((()=>[k("其他登录方式")])),_:1}),C(F,{length:"224rpx"})])),_:1}),C(i,{class:"u-m-t-40"},{default:m((()=>[C(R,{src:z,style:{width:"72rpx",height:"72rpx"}})])),_:1})])),_:1})])),default:m((()=>[C(i,null,{default:m((()=>[C(n),C(i,{class:"u-flex-y-center u-p-l-30",style:{width:"200rpx",height:"100rpx"},onClick:t.goBack},{default:m((()=>[C(r,{name:"close",color:"#292A2B",size:"20"})])),_:1},8,["onClick"])])),_:1}),C(i,{class:"u-m-t-30 u-margin-center-auto",style:{width:"600rpx"}},{default:m((()=>[C(i,{class:"l-title"},{default:m((()=>[k("短信验证码登录")])),_:1}),C(A,{ref:"uForm",style:{"margin-top":"80rpx"},rules:s.formRules,model:s.formModel},{default:m((()=>[C(v,{prop:"phone"},{default:m((()=>[C(P,{modelValue:s.formModel.phone,"onUpdate:modelValue":l[0]||(l[0]=e=>s.formModel.phone=e),placeholder:"请输入手机号码",border:"bottom"},{prefix:m((()=>[C(i,{class:"u-flex u-flex-items-center"},{default:m((()=>[C(B,{class:"l-area-code",slot:"prefix"},{default:m((()=>[k("+86")])),_:1}),C(r,{class:"u-m-l-16",name:"arrow-down-fill",size:"8",color:"#292A2B"}),C(F,{class:"u-m-l-16 u-m-r-6",direction:"col",length:"32rpx",color:"#E1E2E6"})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["rules","model"]),C(i,{class:"login-sendCode",onClick:t.sendSMSCode},{default:m((()=>[k(" 发送验证码 ")])),_:1},8,["onClick"]),C(i,{class:"login-byPwd",onClick:t.loginByPwd},{default:m((()=>[k(" 密码登录 ")])),_:1},8,["onClick"]),C(i,{class:"u-m-t-30 u-flex u-flex-items-center",style:{"font-size":"24rpx",color:"#2647FF"}},{default:m((()=>[C(r,{name:"checkmark-circle",color:"#2647FF",size:"16"}),C(B,{class:"u-m-l-10",style:{color:"#999999"}},{default:m((()=>[k("我已阅读并同意")])),_:1}),C(B,null,{default:m((()=>[k("《用户使用协议》")])),_:1}),C(B,null,{default:m((()=>[k("《隐私政策》")])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-711e056c"]]);export{B as default};
