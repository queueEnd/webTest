import{_ as e,s as t,R as s,r as o,c as i,A as a,i as l,w as n,a8 as c,d as h,o as d,g as r,k as g,j as u,t as f,f as m,l as _,F as p,p as w,q as y}from"./index-FwbBwjbJ.js";import{_ as k}from"./z-paging.B7jAqyNm.js";import{z as b}from"./zhtuseful.CyewbK9i.js";import{j as F}from"./zhdnTradeApi.D1sQ_EGE.js";const I=e({props:{type:{type:String,default:""},iWeight:{type:String,default:""},iWeightFloat:{type:String,default:""},iGoods:{type:String,default:""}},data:()=>({hotGoodsList:["不限"],searchList:[],canSend:!1,weight:"",weightFloat:"10",current:-1,keyword:"",selectItem:null}),onLoad(e){e.iGoods&&(this.selectItem=e.iGoods),e.iWeight&&(this.weight=e.iWeight),e.iWeightFloat&&(this.weightFloat=e.iWeightFloat),this.searchkeywordDebounced=b((async e=>{if(e){this.selectItem=null;const t=(await F(e)).data;this.searchList=t.splice(0,20)}}),200),F("").then((e=>{this.hotGoodsList=["不限",...e.data]})).catch((e=>{}))},methods:{async searchGoods(e){this.searchkeywordDebounced(e)},chooseGoods(e){this.selectItem=e},clearItem(){this.selectItem=null},weightLose(){let e=Number(this.weight)-1;e<0&&(e=0),this.weight=String(e)},weightAdd(){this.weight=String(Number(this.weight)+1)},weightFloatLose(){let e=Number(this.weightFloat)-1;e<0&&(e=0),this.weightFloat=String(e)},weightFloatAdd(){this.weightFloat=String(Number(this.weightFloat)+1)},confirmAction(){if(!this.selectItem)return void t({icon:"none",title:"请选择货种"});this.getOpenerEventChannel().emit("goodsEditChange",{goods:this.selectItem}),s()}}},[["render",function(e,t,s,b,F,I){const C=w,S=y,G=o(i("u-search"),c),L=o(i("u-icon"),h),x=(a("up-input"),o(i("z-paging"),k));return d(),l(x,{style:{"background-color":"#f0f2f7"}},{bottom:n((()=>[r(S,{class:"pgi-bottom"},{default:n((()=>[r(S,{class:"pgi-bottom__btn",onClick:I.confirmAction},{default:n((()=>[g("确认")])),_:1},8,["onClick"])])),_:1})])),default:n((()=>[r(S,{class:"pgi-section-bg pgi-one"},{default:n((()=>[r(S,{class:"u-flex u-flex-items-center"},{default:n((()=>[r(C,{style:{color:"#292A2B","font-size":"30rpx","font-weight":"500"}},{default:n((()=>[g("货种信息")])),_:1}),r(C,{class:"fi-ismust"},{default:n((()=>[g("必填")])),_:1})])),_:1}),r(S,{class:"pgi-one__info"},{default:n((()=>[g("请如实填写，因填写不实导致相关责任损失，由您自行承担")])),_:1}),F.selectItem?u("",!0):(d(),l(G,{key:0,class:"u-m-t-20",modelValue:F.keyword,"onUpdate:modelValue":t[0]||(t[0]=e=>F.keyword=e),shape:"round",bgColor:"#f4f4f4",searchIconColor:"#292a2b",placeholder:"请输入货种名称",showAction:!1,onChange:I.searchGoods},null,8,["modelValue","onChange"])),F.selectItem?(d(),l(S,{key:1,class:"u-m-t-20 pgi-one__itemSel"},{default:n((()=>[r(S,{class:"pgi-one__itemSel__text"},{default:n((()=>[g(f(F.selectItem),1)])),_:1}),r(L,{class:"pgi-one__itemSel__close",name:"close-circle-fill",color:"#2647FF",size:"30rpx",onClick:I.clearItem},null,8,["onClick"])])),_:1})):(d(),l(S,{key:2,class:"u-m-t-20"},{default:n((()=>[r(S,{style:{color:"#292a2b","font-size":"26rpx"}},{default:n((()=>[g(f(""!=F.keyword?"搜索结果":"热门货种"),1)])),_:1}),r(S,{class:"pgi-one__goods"},{default:n((()=>[(d(!0),m(p,null,_(""!=F.keyword?F.searchList:F.hotGoodsList,((e,t)=>(d(),l(S,{class:"pgi-one__goods__item",key:t,onClick:t=>I.chooseGoods(e)},{default:n((()=>[g(f(e),1)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}))])),_:1}),u("",!0)])),_:1})}],["__scopeId","data-v-a47a796d"]]);export{I as default};
