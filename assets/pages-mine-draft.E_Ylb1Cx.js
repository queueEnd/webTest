import{_ as e,R as t,U as a,s,n as d,A as r,r as l,c as o,i,w as n,o as c,g as _,f,l as u,F as m,N as p,q as h,k as g,t as y,p as x,m as C}from"./index-B3fvMXoi.js";import{_ as D}from"./z-paging.Ctbk3ePi.js";import{x as w,y as L}from"./zhdnTradeApi.Dx0rs8q0.js";import{_ as v}from"./draft_go.D-DgwqqR.js";const k=e({data:()=>({dataList:[],showDeleteModal:!1,editItem:null}),methods:{onRefresh(){},queryList(e,t){w({page:e,size:t},{}).then((e=>{this.$refs.paging.complete(e.data.records)})).catch((e=>{this.$refs.paging.complete(!1)}))},addressText(e,t,a){if(!e||!e.addressList||0==e.addressList.length)return"未填写";const s=e.addressList[0];var d="";return 0==t&&0==a?d=s.startAddress:0==t&&1==a?(d=s.startCountry+s.startProvince+s.startCity+s.startDistr).replace("null",""):1==t&&0==a?d=s.endAddress:1==t&&1==a&&(d=s.endCountry+s.endProvince+s.endCity+s.endDistr).replace("null",""),""==d?"未填写":d},deleteDraft(e){this.showDeleteModal=!0,this.editItem=e},editNext(){},confirmDelete(){this.showDeleteModal=!1,t({title:"正在删除..."}),L(this.editItem.id).then((e=>{a(),s({title:"已删除",icon:"success"}),this.$refs.paging.reload(!0)})).catch((e=>{a(),s({title:"删除失败",icon:"none"})}))},editDraft(e){0==e.type?d({url:"/pages/trade/publishGoods?draftId"+e.id,events:{edit:function(e){}}}):1==e.type&&d({url:"/pages/trade/publisResource?draftId"+e.id,events:{edit:function(e){}}})}}},[["render",function(e,t,a,s,d,w){const L=r("up-icon"),k=p,z=h,F=x,I=C,M=r("up-modal"),T=l(o("z-paging"),D);return c(),i(T,{ref:"paging",modelValue:d.dataList,"onUpdate:modelValue":t[1]||(t[1]=e=>d.dataList=e),onQuery:w.queryList,style:{"background-color":"#f0f2f7"}},{default:n((()=>[_(z,{class:"trade-search"},{default:n((()=>[_(L,{name:"search",size:24}),_(k,{class:"u-m-l-10 trade-search__input",placeholder:"搜索"})])),_:1}),(c(!0),f(m,null,u(d.dataList,((e,t)=>(c(),i(z,{class:"trade-draft-item",key:t},{default:n((()=>[_(z,{class:"trade-draft-item__top"},{default:n((()=>[_(F,{class:"trade-draft-item__top__time"},{default:n((()=>[g("编辑时间："+y(e.createdate),1)])),_:2},1024),_(z,{style:{color:"#2647FF","font-size":"20rpx"},onClick:t=>w.editDraft(e)},{default:n((()=>[g("继续编辑")])),_:2},1032,["onClick"]),_(z,{style:{"margin-left":"30rpx",color:"#FF0003","font-size":"20rpx"},onClick:t=>w.deleteDraft(e)},{default:n((()=>[g("删除草稿")])),_:2},1032,["onClick"])])),_:2},1024),_(z,{class:"trade-draft-item__content"},{default:n((()=>[_(z,{class:"trade-draft-item__content__start"},{default:n((()=>[_(z,{class:"trade-draft-item__content__start__title"},{default:n((()=>[g(y(w.addressText(e,0,0)),1)])),_:2},1024),_(z,{class:"trade-draft-item__content__start__value"},{default:n((()=>[g(y(w.addressText(e,0,1)),1)])),_:2},1024)])),_:2},1024),_(I,{class:"u-m-l-8 u-m-r-8",style:{width:"132rpx",height:"12rpx"},src:v}),_(z,{class:"trade-draft-item__content__end"},{default:n((()=>[_(z,{class:"trade-draft-item__content__end__title"},{default:n((()=>[g(y(w.addressText(e,1,0)),1)])),_:2},1024),_(z,{class:"trade-draft-item__content__end__value"},{default:n((()=>[g(y(w.addressText(e,1,1)),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),_(M,{show:d.showDeleteModal,showCancelButton:!0,confirmColor:"#FF0003",onConfirm:w.confirmDelete,onCancel:t[0]||(t[0]=e=>d.showDeleteModal=!1),ref:"deleteModal",asyncClose:!0,title:"是否删除草稿"},null,8,["show","onConfirm"])])),_:1},8,["modelValue","onQuery"])}],["__scopeId","data-v-86b60e74"]]);export{k as default};
