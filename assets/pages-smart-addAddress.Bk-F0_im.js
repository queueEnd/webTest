import{_ as t,bK as e,s,R as i,cv as a,cw as l,cx as o,Q as d,U as n,r,c,A as u,i as h,w as p,b as f,K as _,d as m,L as y,o as x,g,k as C,j as b,t as w,h as v,p as A,m as k,q as V,N as D}from"./index-B3fvMXoi.js";import{_ as j}from"./z-paging.Ctbk3ePi.js";import{a as z}from"./addressChoose.DZf4js60.js";import{_ as S}from"./icon_must_input.CqfBCRGc.js";import"./fuse.BI5DUiN0.js";const B=t({components:{addressChooseVue:z},data:()=>({type:1,name:"",phone:"",country:null,province:null,city:null,district:null,detailAddress:"",showCity:!1,editData:null}),computed:{canSubmit(){return this.country&&""!=this.detailAddress&&""!=this.name&&""!=this.phone}},onLoad(t){this.type=t.type;this.getOpenerEventChannel().on("edit",(t=>{console.log(JSON.stringify(t)),this.editData=t,null!=this.editData&&(e({title:"编辑地址"}),this.name=this.editData.name,this.phone=this.editData.phone)}))},methods:{addressSelect(t){this.showCity=!1,this.country=t.country,this.province=t.province,this.city=t.city,this.district=t.district},chooseCity(){this.showCity=!0},countryText(){return this.province&&""!=this.province?this.province+this.city+this.district:this.country&&""!=this.country?this.country:""},addAddress(){if(!this.canSubmit)return;if(""==this.name)return void s({title:"请输入联系人",icon:"none"});if(""==this.phone)return void s({title:"请输入联系电话",icon:"none"});if(!this.country||""==this.country)return void s({title:"请选择省市区或国家",icon:"none"});if(!this.detailAddress||""==this.detailAddress)return void s({title:"输入详细地址",icon:"none"});const t={status:0,custype:this.type,name:this.name,phone:this.phone,address:this.country+this.province+this.city+this.district+this.detailAddress};this.editData&&(t.id=this.editData.id,t.custype=this.editData.custype),i({title:"正在提交..."}),a(this.editData?l:o,t).then((t=>{d()})).catch((t=>{s({icon:"error",title:"添加失败"})})).finally((t=>{n()}))}}},[["render",function(t,e,s,i,a,l){const o=A,d=k,n=r(c("u-input"),f),z=V,B=r(c("u-line"),_),U=r(c("u-icon"),m),K=D,E=u("addressChooseVue"),L=r(c("u-popup"),y),N=r(c("z-paging"),j);return x(),h(N,{style:{"background-color":"#f0f2f7"}},{default:p((()=>[g(z,{style:{"padding-top":"20rpx"}},{default:p((()=>[g(z,{class:"ad-textBg"},{default:p((()=>[g(z,{class:"u-flex u-flex-items-center"},{default:p((()=>[g(o,{class:"text_black_14"},{default:p((()=>[C(" 联系人 ")])),_:1}),g(d,{src:S,style:{width:"40rpx",height:"24rpx","margin-left":"16rpx"}}),g(n,{class:"u-m-l-20",modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=t=>a.name=t),border:"none",placeholder:"请输入联系人",inputAlign:"right"},null,8,["modelValue"])])),_:1}),g(B,{color:"#f0f2f7",style:{margin:"20rpx 0"}}),g(z,{class:"u-flex u-flex-items-center"},{default:p((()=>[g(o,{class:"text_black_14"},{default:p((()=>[C(" 联系电话 ")])),_:1}),g(d,{src:S,style:{width:"40rpx",height:"24rpx","margin-left":"16rpx"}}),g(n,{class:"u-m-l-20",modelValue:a.phone,"onUpdate:modelValue":e[1]||(e[1]=t=>a.phone=t),border:"none",placeholder:"请输入联系电话",inputAlign:"right",type:"number",maxlength:"11"},null,8,["modelValue"])])),_:1})])),_:1}),g(z,{class:"ad-address"},{default:p((()=>[1==a.type?(x(),h(z,{key:0,class:"ad-address__title"},{default:p((()=>[g(z,{class:"ad-address__title__flag"},{default:p((()=>[C("发")])),_:1}),g(z,{class:"ad-address__title__t"},{default:p((()=>[C("起运地")])),_:1})])),_:1})):b("",!0),2==a.type?(x(),h(z,{key:1,class:"ad-address__title"},{default:p((()=>[g(z,{class:"ad-address__title__flagEnd"},{default:p((()=>[C("收")])),_:1}),g(z,{class:"ad-address__title__t"},{default:p((()=>[C("目的地")])),_:1})])),_:1})):b("",!0),g(z,{class:"u-flex u-flex-items-center u-flex-between u-p-t-30 u-p-b-30",onClick:l.chooseCity},{default:p((()=>[a.country?(x(),h(z,{key:1,style:{"font-size":"26rpx",color:"#272e3f","font-weight":"500"}},{default:p((()=>[C(w(l.countryText()),1)])),_:1})):(x(),h(z,{key:0,style:{"font-size":"26rpx",color:"#A8B0BC","font-weight":"500"}},{default:p((()=>[C("省市区/国家")])),_:1})),g(U,{name:"arrow-right",size:"20rpx"})])),_:1},8,["onClick"]),g(B,{color:"#f0f2f7"}),g(z,{class:"u-p-t-30 u-p-b-30"},{default:p((()=>[g(K,{style:{"font-size":"26rpx",color:"#272e3f","font-weight":"500"},border:"bottom",modelValue:a.detailAddress,"onUpdate:modelValue":e[2]||(e[2]=t=>a.detailAddress=t),placeholder:"详细地址（例如**街**号**）","placeholder-style":{color:"#A8B0BC"}},null,8,["modelValue"])])),_:1}),g(B,{color:"#f0f2f7"}),g(z,{class:v(["ad-address__confirm",{active:l.canSubmit}]),onClick:l.addAddress},{default:p((()=>[C("确定")])),_:1},8,["class","onClick"])])),_:1})])),_:1}),g(L,{show:a.showCity,round:12,mode:"bottom"},{default:p((()=>[g(E,{style:{height:"1000rpx"},onConfirm:l.addressSelect,onClose:e[3]||(e[3]=t=>a.showCity=!1)},null,8,["onConfirm"])])),_:1},8,["show"])])),_:1})}],["__scopeId","data-v-15d27831"]]);export{B as default};
