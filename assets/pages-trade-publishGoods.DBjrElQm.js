import{_ as t,r as e,K as s,c as i,d as o,b as a,o as n,i as d,w as l,g as r,k as c,t as h,j as p,aT as u,p as m,q as f,n as g,s as y,aU as x,T as D,aV as C,V as b,aR as S,R as I,A as _,aW as w,aN as T,aX as A,aY as k,aZ as U,f as L,l as N,F as W,ao as v,h as B,m as E}from"./index-oXtcu1jG.js";import{d as V}from"./dayjs.min.C73DX6gN.js";import{p as z}from"./form-item.eLhekq9H.js";import{p as P}from"./address-item.DzriXGz8.js";import{p as M}from"./form-item-input.u4fUP3sq.js";import{f as O}from"./file-choose.DGJur1BJ.js";import{t as F}from"./trade-select.BHiwwbax.js";import{t as j,_ as H}from"./icon-minuso.D9s-WVg3.js";import{e as R,f as $,g as q}from"./zhdnTradeApi.DtENn4FQ.js";import{B as G}from"./tradeConfig.Csb849zU.js";import"./fuse.BI5DUiN0.js";const Y=t({components:{pformItem:z,addressItem:P,pformItemInput:M,pformItemInputSelect:t({emits:["unitClick","change"],props:{title:{type:String,default:""},isMust:{type:Boolean,default:!0},bottomLine:{type:Boolean,default:!0},placeHolder:{type:String,default:"请填写"},modelValue:{type:[String,Number],default:""},unit:{type:String,default:""},inputType:{type:String,default:"text"},other:{type:Object,default:null}},data:()=>({inputValue:""}),methods:{handleInput(t){this.$emit("update:modelValue",t),this.$emit("change",t)},chooseUnit(){this.$emit("unitClick")}}},[["render",function(t,g,y,x,D,C){const b=m,S=f,I=e(i("u-line"),s),_=e(i("u-icon"),o),w=e(i("u-input"),a);return n(),d(S,null,{default:l((()=>[r(S,{style:{display:"flex","align-items":"center",padding:"26rpx 0"}},{default:l((()=>[r(b,{style:{color:"#292A2B","font-size":"28rpx","font-weight":"500"}},{default:l((()=>[c(h(y.title),1)])),_:1}),y.isMust?(n(),d(S,{key:0,class:"fi-ismust"},{default:l((()=>[c("必填")])),_:1})):p("",!0),r(w,{class:"u-m-l-30",clearable:!0,placeholder:y.placeHolder,value:y.modelValue,onChange:C.handleInput,color:"#292A2B","font-size":"28rpx",inputAlign:"right",type:y.inputType,border:"none",style:{"font-weight":"bold"},placeholderStyle:{"font-weight":400,color:"#a8b0bc"}},u({_:2},[""!=y.unit?{name:"suffix",fn:l((()=>[r(S,{class:"u-flex u-flex-items-center u-m-l-20",onClick:C.chooseUnit},{default:l((()=>[r(I,{direction:"col",length:"32rpx",color:"#E1E2E6"}),r(b,{style:{"font-size":"28rpx","font-weight":"500",color:"#292A2B","margin-left":"15px"}},{default:l((()=>[c(h(y.unit),1)])),_:1}),r(_,{class:"u-m-l-10",name:"arrow-down",size:"10",color:"#A8B0BC"})])),_:1},8,["onClick"])])),key:"0"}:void 0]),1032,["placeholder","value","onChange","type"])])),_:1}),y.bottomLine?(n(),d(I,{key:0,color:"#f0f2f7"})):p("",!0)])),_:1})}],["__scopeId","data-v-9a0d5dbf"]]),fileChoose:O,tradeSelect:F,tradeModifyLoad:j},data:()=>({position:0,id:null,draftId:null,loading:!1,skeleton:[{type:"line",num:3,gap:"20rpx",style:["width: 200rpx;marginTop: 50rpx;marginLeft: 30rpx;","marginLeft: 30rpx;marginRight: 30rpx;","width: 400rpx;marginBottom: 50rpx;marginLeft: 30rpx;"]}],type:-1,typeList:[{id:"01",name:"集装箱多式联运"},{id:"02",name:"散杂货多式联运"},{id:"03",name:"件杂货多式联运"},{id:"04",name:"散改集运输"},{id:"05",name:"集改散运输"}],weightUnitOptionShow:!1,weightUnitOption:[{name:"吨",key:"name",disabled:!1},{name:"箱",key:"name",disabled:!1}],weightUnitOptionSelectItems:[],weightLoadUnitShow:!1,weightLoadBox:null,typeListShow:!1,sendDateShow:!1,boxTypes:[{name:"20GP",info:"6.1*2.44*2.59m",load:24,selected:!0,price:"",editPrice:"",count:0,selfCount:0},{name:"40GP",info:"12.2*2.44*2.59m",load:28,selected:!0,price:"",editPrice:"",count:0,selfCount:0},{name:"35吨箱",info:"6.06*2.55*2.89m",load:32,selected:!1,price:"",editPrice:"",count:0,selfCount:0}],boxConfigHtml:"",editData:{source:"01",sourceStr:"集装箱多式联运",sendDate:new Date,estimatedShippingTime:"",estimatedShippingTimeStr:"",deviationTime:1,freight:"",priceadd:"元/吨",product:"不限",goodWeight:"",goodWeightDeviation:10,goodWeightUnit:"吨",providerid:null,serviceReq:"",push:!1,showhall:1,isBoxCustom:!1},originData:null,fileDatas:[],uploadedFiles:[],uploadStatus:[],editFiles:[],isUploading:!1,startAddressItem:null,endAddressItem:null,sendToList:[]}),onLoad(t){t.position&&(this.position=Number(t.position)),t.draftId&&(this.draftId=t.draftId,this.loadDraftData()),t.id&&(this.id=t.id,this.loadEditData())},watch:{editData:{hander(){console.log(this.editData.goodWeight)},immediate:!0}},methods:{typeListClick(t){"02"==t.id?(this.editData.goodWeightUnit="吨",this.weightUnitOption[1].disabled=!0):this.weightUnitOption[1].disabled=!1,this.editData.source=t.id,this.editData.sourceStr=t.name,this.typeListShow=!1},typeListShowChange(t){this.typeListShow=t},editGoodsType(){let t=this;g({url:"/pages/trade/publishGoodsInfo",events:{goodsEditChange:function(e){t.editData.product=e.goods}}})},goodWeightUnitClick(){""!=this.editData.goodWeightUnit&&(this.weightUnitOptionSelectItems=[{name:this.editData.goodWeightUnit}]),this.weightUnitOptionShow=!0},weightUnitOptionSelect(t){this.weightUnitOptionShow=!1,this.editData.goodWeightUnit=t.name,console.log(t)},chooseSendDate(){this.sendDateShow=!0},chooseAddress(t){let e=this;g({url:"/pages/trade/address/address?position="+t,events:{selectedAddress:function(s){0==t?e.startAddressItem=s.address:e.endAddressItem=s.address}}})},chooseSendSupplier(){let t=this;var e="";const s=[];this.sendToList.length>0&&(this.sendToList.forEach((t=>{s.push(t.id)})),e=JSON.stringify(s)),g({url:"/pages/trade/tradeChooseCustomer",events:{selectSendCustomer:function(e){t.sendToList=e.items}},success:function(t){""!=e&&t.eventChannel.emit("customerList",{data:e})}})},sendDateChange(t){this.sendDateShow=!1;const e=V(t.value).format("YYYY-MM-DD");this.editData.estimatedShippingTimeStr=e,this.editData.estimatedShippingTime=e},goodWeightChange(t){""!=t&&(this.computeBoxCarryCount(),this.configBoxMixPlanHtml())},boxTypeClick(t){t.selected=!t.selected,this.computeBoxCarryCount(),this.configBoxMixPlanHtml()},boxSingleNumberChange(t){this.boxTypes.forEach((e=>{t.name==e.name&&(e.count=t.value)})),this.configBoxMixPlanHtml()},boxNumberChange(t){this.boxTypes.forEach((e=>{t.name==e.name&&(e.selfCount=t.value)})),this.configBoxMixPlanHtml()},boxMixCustomSwitch(){this.configBoxMixPlanHtml()},popToEditBoxLoad(t){this.weightLoadBox=t,this.weightLoadUnitShow=!0},editBoxLoad(t){if(this.weightLoadBox){const e=Number(t);isNaN(e)||(this.weightLoadBox.load=Math.abs(e))}this.weightLoadUnitShow=!1},computeBoxCarryCount(){if(this.editData.goodWeight&&""!=this.editData.goodWeight)if("吨"==this.editData.goodWeightUnit){const t=Number(this.editData.goodWeight);t>0&&this.boxTypes.forEach((e=>{e.selected&&(e.count=Math.ceil(t/e.load))}))}else if("箱"==this.editData.goodWeightUnit){const t=Number(this.editData.goodWeight);t>0&&this.boxTypes.forEach((e=>{e.selected&&(e.count=t)}))}},configBoxMixPlanHtml(){var t="";if(t+='<span style="font-weight: bold;">预估装载方案测算：</span>',"吨"==this.editData.goodWeightUnit?t+=`<span style="font-weight: 500;">以上装载重量≥${this.editData.goodWeight}吨。</span>`:"箱"==this.editData.goodWeightUnit&&(t+=`<span style="font-weight: 500;">总需求${this.editData.goodWeight}箱。</span>`),this.boxTypes.forEach((e=>{e.selected&&(t+=`<span>单箱方案${e.name}*${e.count}预估合计装载${e.load*e.count}吨</span>，`)})),this.editData.isBoxCustom){let e="",s=0;this.boxTypes.forEach((t=>{t.selfCount>0&&(e.length>0&&(e+="+"),e=e+t.name+"*"+t.selfCount,s+=t.selfCount*t.load)})),t+=`<span>组合方案${e}预估合计装载${s}吨</span>，`}this.boxConfigHtml=t},fileChange(t){this.fileDatas=t},canSubmit(){return this.startAddressItem?this.endAddressItem?this.editData.product&&""!=this.editData.product?this.editData.goodWeight&&""!=this.editData.goodWeight?this.editData.freight&&""!=this.editData.freight?!(!this.editData.estimatedShippingTime||""==this.editData.estimatedShippingTime)||this.toast("请选择预计发货时间"):this.toast("请填写意向价格"):this.toast("请填写货种重量"):this.toast("请选择货种"):this.toast("请选择目的地"):this.toast("请选择起运地")},toast:t=>(y({title:t,icon:"none"}),!1),async saveDraft(){const t=x(this.editData);if(this.startAddressItem&&this.endAddressItem){const e=[{startAddressId:this.startAddressItem.id,startAddress:this.startAddressItem.address,startCountry:this.startAddressItem.country,startProvince:this.startAddressItem.province,startCity:this.startAddressItem.city,startDistr:this.startAddressItem.district,startStationId:this.startAddressItem.addressid,startType:this.startAddressItem.type,endAddressId:this.endAddressItem.id,endAddress:this.endAddressItem.address,endCountry:this.endAddressItem.country,endProvince:this.endAddressItem.province,endCity:this.endAddressItem.city,endDistr:this.endAddressItem.district,endStationId:this.endAddressItem.addressid,endType:this.endAddressItem.type}];t.addressList=e}const e=[],s=[];this.sendToList&&this.sendToList.length>0&&this.sendToList.forEach((t=>{t.supplierName&&s.push(t.supplierName),t.id&&e.push(t.id)})),t.acceptcompanysList=e,t.acceptcompanynamesList=s;const i=[];if("02"==this.editData.source){const t=G[0],e=Number(this.editData.goodWeight);let s="0";isNaN(e)||(s=String(Math.ceil(e/t.load))),i.push({type:1,containerInfo:[{product:t.name,productWeight:String(t.load),productSpec:"",productNum:s}]})}else if(this.boxTypes.forEach((t=>{if(t.selected){const e=[{product:t.name,productNum:t.count,productSpec:t.info,productWeight:String(t.load)}];i.push({type:1,containerInfo:e})}})),this.editData.isBoxCustom){const t=[];this.boxTypes.forEach((e=>{e.selected&&t.push({product:e.name,productNum:e.selfCount,productSpec:e.info,productWeight:String(e.load)})})),i.push({type:2,containerInfo:t})}if(t.userDesignedContainerInfo=i,this.isUploading=!0,D({title:"正在提交...",mask:!0}),await C(this.fileDatas,this.uploadedFiles,this.uploadStatus),this.uploadStatus.includes("fail"))return b(),y({title:"部分文件上传失败，请重试",icon:"none"}),void(this.isUploading=!1);const o=[];for(let a=0;a<this.fileDatas.length;a++){const t=this.fileDatas[a];let e={fileName:t.netName?t.netName:"",filePath:t.netPath?t.netPath:"",fileType:t.netType?t.netType:""};o.push(e)}t.files=o,t.type=0,R(t).then((t=>{this.isUploading=!1,b(),y({title:"已保存",icon:"success"}),S("tradeGoods-refresh",{}),I()})).catch((t=>{this.isUploading=!1,b(),y({title:t.data.msg?t.data.msg:"提交失败",icon:"error"})}))},async publishAction(){if(!this.canSubmit())return;const t=[{startAddressId:this.startAddressItem.id,startAddress:this.startAddressItem.address,startCountry:this.startAddressItem.country,startProvince:this.startAddressItem.province,startCity:this.startAddressItem.city,startDistr:this.startAddressItem.district,startStationId:this.startAddressItem.addressid,startType:this.startAddressItem.type,endAddressId:this.endAddressItem.id,endAddress:this.endAddressItem.address,endCountry:this.endAddressItem.country,endProvince:this.endAddressItem.province,endCity:this.endAddressItem.city,endDistr:this.endAddressItem.district,endStationId:this.endAddressItem.addressid,endType:this.endAddressItem.type}],e=x(this.editData);e.addressList=t,console.log(e);const s=[],i=[];this.sendToList&&this.sendToList.length>0&&this.sendToList.forEach((t=>{t.supplierName&&i.push(t.supplierName),t.id&&s.push(t.id)}));const o=[];if("02"==this.editData.source){const t=G[0],e=Number(this.editData.goodWeight);let s="0";isNaN(e)||(s=String(Math.ceil(e/t.load))),o.push({type:1,containerInfo:[{product:t.name,productWeight:String(t.load),productSpec:"",productNum:s}]})}else{let t=1;if(this.boxTypes.forEach((e=>{if(e.selected){const s=[{product:e.name,productNum:e.count,productSpec:e.info,productWeight:String(e.load)}];o.push({type:1,sort:t++,containerInfo:s})}})),this.editData.isBoxCustom){const e=[];this.boxTypes.forEach((t=>{t.selected&&e.push({product:t.name,productNum:t.selfCount,productSpec:t.info,productWeight:String(t.load)})})),o.push({type:2,sort:t++,containerInfo:e})}}if(e.userDesignedContainerInfo=o,e.acceptcompanysList=s,e.acceptcompanynamesList=i,this.isUploading=!0,D({title:"正在提交...",mask:!0}),await C(this.fileDatas,this.uploadedFiles,this.uploadStatus),this.uploadStatus.includes("fail"))return b(),y({title:"部分文件上传失败，请重试",icon:"none"}),void(this.isUploading=!1);const a=[];for(let n=0;n<this.fileDatas.length;n++){const t=this.fileDatas[n];let e={fileName:t.netName?t.netName:"",filePath:t.netPath?t.netPath:"",fileType:t.netType?t.netType:""};a.push(e)}e.files=a,$(e).then((t=>{this.isUploading=!1,b(),y({title:"已提交",icon:"success"}),S("tradeGoods-refresh",{}),I()})).catch((t=>{this.isUploading=!1,b(),y({title:t.data.msg?t.data.msg:"提交失败",icon:"error"})}))},boxCarryInfo(){if(this.editData.source,this.boxTypes.forEach((t=>{t.selected&&(t.name,t.count,t.info,String(t.load))})),this.editData.isBoxCustom){const t=[];this.boxTypes.forEach((e=>{e.selected&&t.push({product:e.name,productNum:e.selfCount,productSpec:e.info,productWeight:String(e.load)})}))}},loadDraftData(){this.loading=!0,q(this.draftId).then((t=>{this.loading=!1,this.originData=t.data,this.configEditData()})).catch((t=>{this.loading=!1}))},loadEditData(){},configEditData(){const t=this.originData;if(t.source){this.editData.source=t.source;for(var e=0;e<this.typeList.length;e++){const s=this.typeList[e];if(s.id==t.source){this.editData.sourceStr=s.name;break}}}if(this.editData.product=t.product,this.editData.goodWeight=t.goodWeight,this.editData.goodWeightUnit=t.goodWeightUnit,this.editData.goodWeightDeviation=t.goodWeightDeviation,this.editData.freight=t.freight,this.editData.serviceReq=t.serviceReq,t.estimatedShippingTime&&""!=t.estimatedShippingTime){this.editData.sendDate=new Date(t.estimatedShippingTime),this.editData.estimatedShippingTime=t.estimatedShippingTime;const e=V(this.editData.sendDate).format("YYYY-MM-DD");this.editData.estimatedShippingTimeStr=e}this.editData.deviationTime=t.deviationTime,this.editData.serviceReq=t.serviceReq;let s=1;if(this.editData.userDesignedContainerInfo){this.editData.userDesignedContainerInfo.forEach((t=>{if(1==t.type&&t.containerInfo&&t.containerInfo.length>0){const s=t.containerInfo[0];for(var e=0;e<this.boxTypes.length;e++){const t=this.boxTypes[e];if(s.product==t.name){let e=Number(s.productNum),i=Number(s.productWeight);t.count=isNaN(e)?0:e,t.load=isNaN(i)?0:i,t.selected=!0}}}else if(2==t.type&&t.containerInfo&&t.containerInfo.length>0){this.editData.isBoxCustom=!0;for(var s=0;s<t.containerInfo.length;s++){const i=t.containerInfo[s];for(e=0;e<this.boxTypes.length;e++){const t=this.boxTypes[e];if(i.product==t.name){let e=Number(i.productNum);t.selfCount=isNaN(e)?0:e}}}}console.log(this.boxTypes)}))}if(this.boxTypes.forEach((t=>{if(t.selected){const e=[{product:t.name,productNum:t.count,productSpec:t.info,productWeight:String(t.load)}];userDesignedContainerInfo.push({type:1,sort:s++,containerInfo:e})}})),this.editData.isBoxCustom){const t=[];this.boxTypes.forEach((e=>{e.selected&&t.push({product:e.name,productNum:e.selfCount,productSpec:e.info,productWeight:String(e.load)})})),userDesignedContainerInfo.push({type:2,sort:s++,containerInfo:t})}t.files&&t.files.length>0&&t.files.forEach((t=>{this.editFiles.push({netPath:t.filePath,netName:t.fileName})}))}}},[["render",function(t,a,u,g,y,x){const D=f,C=_("addressItem"),b=_("pformItem"),S=_("pformItemInputSelect"),I=_("pformItemInput"),V=e(i("u-icon"),o),z=e(i("u-line"),s),P=m,M=E,O=e(i("u-number-box"),w),F=e(i("u-switch"),T),j=v,R=_("fileChoose"),$=e(i("u-action-sheet"),A),q=e(i("u-datetime-picker"),k),G=_("tradeSelect"),Y=_("tradeModifyLoad"),J=e(i("u-skeleton"),U);return n(),d(J,{loading:y.loading,animate:!0,skeleton:y.skeleton},{default:l((()=>[r(D,{class:"pr__bg"},{default:l((()=>[r(D,{class:"pr-line pr-section-bg"},{default:l((()=>[r(D,{class:"pr-line__top"},{default:l((()=>[r(D,{class:"pr-section-title"},{default:l((()=>[c("运输线路")])),_:1}),r(D,{class:"fi-ismust"},{default:l((()=>[c("必填")])),_:1})])),_:1}),r(C,{class:"u-m-t-20",startAddress:y.startAddressItem,endAddress:y.endAddressItem,onChooseAddress:x.chooseAddress},null,8,["startAddress","endAddress","onChooseAddress"])])),_:1}),r(D,{class:"pr-source pr-section-bg"},{default:l((()=>[r(D,{class:"pr-section-title"},{default:l((()=>[c("货源信息")])),_:1}),r(b,{title:"货种",onClick:x.editGoodsType,content:y.editData.product},null,8,["onClick","content"]),r(S,{modelValue:y.editData.goodWeight,"onUpdate:modelValue":a[0]||(a[0]=t=>y.editData.goodWeight=t),title:"货量",inputType:"digit",unit:y.editData.goodWeightUnit,content:y.editData.goodWeight,onUnitClick:x.goodWeightUnitClick,onChange:x.goodWeightChange},null,8,["modelValue","unit","content","onUnitClick","onChange"]),r(I,{modelValue:y.editData.freight,"onUpdate:modelValue":a[1]||(a[1]=t=>y.editData.freight=t),title:"意向价格",unit:"元/"+y.editData.goodWeightUnit,inputType:"digit"},null,8,["modelValue","unit"]),r(b,{title:"货源类型",onClick:a[2]||(a[2]=t=>y.typeListShow=!0),content:y.editData.sourceStr},null,8,["content"]),"02"!=y.editData.source?(n(),d(D,{key:0,class:"pgoods-box"},{default:l((()=>[r(D,{class:"pgoods-box-title"},{default:l((()=>[c("选择装载箱型")])),_:1}),r(D,{class:"u-flex u-flex-items-center u-m-t-20"},{default:l((()=>[(n(!0),L(W,null,N(y.boxTypes,((t,e)=>(n(),d(D,{key:e,class:B(["tp-selection",{active:t.selected}]),onClick:e=>x.boxTypeClick(t)},{default:l((()=>[c(h(t.name)+" ",1),t.selected?(n(),d(V,{key:0,class:"tp-sel",name:"/static/image/trade/tradePrice_sel.png",width:"36rpx",height:"20rpx"})):p("",!0)])),_:2},1032,["class","onClick"])))),128))])),_:1}),r(D,{class:"pgoods-box-load"},{default:l((()=>[c(" 可装载吨数：20GP→"+h(y.boxTypes[0].load)+"吨，40GP→"+h(y.boxTypes[1].load)+"吨，35吨箱→"+h(y.boxTypes[2].load)+"吨 ",1)])),_:1}),r(z,{class:"u-m-t-20",color:"#846651",style:{opacity:"0.2"}}),r(D,{class:"pgoods-box-title u-m-t-24"},{default:l((()=>[c("推荐箱型数量(单箱型)")])),_:1}),"吨"==this.editData.goodWeightUnit?(n(),d(D,{key:0},{default:l((()=>[(n(!0),L(W,null,N(y.boxTypes,((t,e)=>(n(),d(D,{key:e},{default:l((()=>[t.selected?(n(),d(D,{key:0,class:"u-p-t-20 u-flex u-flex-items-center"},{default:l((()=>[r(V,{name:"/static/image/common/radio_sel.png",size:"12"}),r(P,{style:{"margin-left":"12rpx",color:"#5F3C24","font-size":"24rpx"}},{default:l((()=>[c(h(t.name),1)])),_:2},1024),r(D,{style:{flex:"1"}}),r(D,{class:"pgoods-box-load-whiteBg",onClick:e=>x.popToEditBoxLoad(t)},{default:l((()=>[r(P,{style:{color:"#666E81","font-size":"24rpx"}},{default:l((()=>[c("可装载")])),_:1}),r(P,{style:{flex:"1","margin-left":"26rpx",color:"#292A2B","font-size":"24rpx"}},{default:l((()=>[c(h(t.load)+"吨",1)])),_:2},1024),r(V,{class:"u-m-l-10",name:"edit-pen",size:"14",color:"#666E81"})])),_:2},1032,["onClick"]),r(D,{class:"pgoods-box-load-num"},{default:l((()=>[c("x"+h(t.count),1)])),_:2},1024)])),_:2},1024)):p("",!0)])),_:2},1024)))),128)),r(z,{class:"u-m-t-30",color:"#846651",style:{opacity:"0.2"}})])),_:1})):"箱"==this.editData.goodWeightUnit?(n(),d(D,{key:1},{default:l((()=>[(n(!0),L(W,null,N(y.boxTypes,((t,e)=>(n(),d(D,{key:e},{default:l((()=>[t.selected?(n(),d(D,{key:0,class:"u-p-t-20 u-flex u-flex-items-center"},{default:l((()=>[r(V,{name:"/static/image/common/radio_sel.png",size:"12"}),r(P,{style:{"margin-left":"12rpx",color:"#5F3C24","font-size":"24rpx"}},{default:l((()=>[c(h(t.name),1)])),_:2},1024),r(D,{class:"u-m-l-10 pgoods-box-load-whiteBg",onClick:e=>x.popToEditBoxLoad(t)},{default:l((()=>[r(P,{style:{color:"#666E81","font-size":"24rpx"}},{default:l((()=>[c("可装载")])),_:1}),r(P,{style:{flex:"1","margin-left":"26rpx",color:"#292A2B","font-size":"24rpx"}},{default:l((()=>[c(h(t.load)+"吨",1)])),_:2},1024),r(V,{class:"u-m-l-10",name:"edit-pen",size:"14",color:"#666E81"})])),_:2},1032,["onClick"]),r(D,{style:{flex:"1"}}),r(O,{modelValue:t.count,"onUpdate:modelValue":e=>t.count=e,min:0,max:1e3,name:t.name,onChange:x.boxSingleNumberChange},{minus:l((()=>[r(D,{class:"pgoods-box-minus"},{default:l((()=>[r(M,{src:H,style:{width:"16rpx",height:"4rpx"}})])),_:1})])),input:l((()=>[r(D,{class:"pgoods-box-input"},{default:l((()=>[c(h(t.count),1)])),_:2},1024)])),plus:l((()=>[r(D,{class:"pgoods-box-plus"},{default:l((()=>[r(V,{name:"/static/image/trade/icon-add.png",size:"8"})])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","name","onChange"])])),_:2},1024)):p("",!0)])),_:2},1024)))),128)),r(z,{class:"u-m-t-30",color:"#846651",style:{opacity:"0.2"}})])),_:1})):p("",!0),r(D,{class:"u-m-t-30 u-flex u-flex-between u-flex-items-center"},{default:l((()=>[r(D,{class:"pgoods-box-title"},{default:l((()=>[c("是否自定义组合箱型")])),_:1}),r(F,{modelValue:y.editData.isBoxCustom,"onUpdate:modelValue":a[3]||(a[3]=t=>y.editData.isBoxCustom=t),size:"20",activeColor:"#2647FF",onChange:x.boxMixCustomSwitch},null,8,["modelValue","onChange"])])),_:1}),y.editData.isBoxCustom?(n(),d(D,{key:2},{default:l((()=>[(n(!0),L(W,null,N(y.boxTypes,((t,e)=>(n(),d(D,{key:e},{default:l((()=>[t.selected?(n(),d(D,{key:0,class:"u-p-t-20 u-flex u-flex-items-center u-flex-content-between"},{default:l((()=>[r(V,{name:"/static/image/common/radio_sel.png",size:"12"}),r(P,{style:{"margin-left":"12rpx",color:"#5F3C24","font-size":"24rpx"}},{default:l((()=>[c(h(t.name),1)])),_:2},1024),r(D,{style:{flex:"1"}}),r(O,{modelValue:t.selfCount,"onUpdate:modelValue":e=>t.selfCount=e,min:0,max:1e3,name:t.name,onChange:x.boxNumberChange},{minus:l((()=>[r(D,{class:"pgoods-box-minus"},{default:l((()=>[r(M,{src:H,style:{width:"16rpx",height:"4rpx"}})])),_:1})])),input:l((()=>[r(D,{class:"pgoods-box-input"},{default:l((()=>[c(h(t.selfCount),1)])),_:2},1024)])),plus:l((()=>[r(D,{class:"pgoods-box-plus"},{default:l((()=>[r(V,{name:"/static/image/trade/icon-add.png",size:"8"})])),_:1})])),_:2},1032,["modelValue","onUpdate:modelValue","name","onChange"])])),_:2},1024)):p("",!0)])),_:2},1024)))),128)),r(z,{class:"u-m-t-30",color:"#846651",style:{opacity:"0.2"}})])),_:1})):p("",!0),r(D,{class:"u-m-t-20",innerHTML:y.boxConfigHtml,style:{color:"#846651","font-size":"24rpx"}},null,8,["innerHTML"])])),_:1})):p("",!0),r(b,{title:"预计发货",bottomLine:!1,onClick:a[4]||(a[4]=t=>y.sendDateShow=!0),content:y.editData.estimatedShippingTimeStr},null,8,["content"])])),_:1}),r(D,{class:"pr-other pr-section-bg"},{default:l((()=>[r(D,{class:"pr-section-title"},{default:l((()=>[c("其他信息")])),_:1}),r(D,{class:"pr-other__remarkHead"},{default:l((()=>[r(P,{style:{"font-weight":"500",color:"#292a2b","font-size":"28rpx"}},{default:l((()=>[c("发货要求")])),_:1})])),_:1}),r(D,{class:"pr-other__editorBg"},{default:l((()=>[r(j,{class:"pr-other__editorBg__editor",modelValue:y.editData.serviceReq,"onUpdate:modelValue":a[5]||(a[5]=t=>y.editData.serviceReq=t),placeholder:"请输入产品运费备注信息","placeholder-style":{color:"#a8b0bc"},"auto-height":!0},null,8,["modelValue"])])),_:1}),r(D,{style:{"font-weight":"500",color:"#292a2b","font-size":"28rpx","margin-top":"20rpx"}},{default:l((()=>[c("附件上传")])),_:1}),r(R,{ref:"fileWrap",onFilesChange:x.fileChange,editFiles:y.editFiles},null,8,["onFilesChange","editFiles"])])),_:1}),r(D,{class:"pr-push pr-section-bg u-p-b-30"},{default:l((()=>[r(D,{class:"u-flex u-flex-items-center",style:{"justify-content":"space-between"}},{default:l((()=>[r(D,{class:"pr-section-title"},{default:l((()=>[c("平台资源推送")])),_:1}),r(F,{modelValue:y.editData.ispush,"onUpdate:modelValue":a[6]||(a[6]=t=>y.editData.ispush=t)},null,8,["modelValue"])])),_:1}),r(D,{class:"u-m-t-28 pr-push__desc"},{default:l((()=>[c("是否通过平台人工客服推送优质匹配资源信息。")])),_:1}),r(D,{class:"u-flex u-m-t-30",onClick:x.chooseSendSupplier},{default:l((()=>[r(P,{style:{"font-weight":"500",color:"#292a2b","font-size":"28rpx"}},{default:l((()=>[c("目标供应商")])),_:1}),0==y.sendToList.length?(n(),d(P,{key:0,style:{"font-weight":"500",color:"#a8b0bc","font-size":"28rpx",flex:"1","text-align":"right"}},{default:l((()=>[c("请添加")])),_:1})):(n(),d(P,{key:1,style:{"font-weight":"500",color:"#292a2b","font-size":"28rpx",flex:"1","text-align":"right","margin-left":"20rpx"}},{default:l((()=>[c("已选择"+h(y.sendToList.length)+"个供应商",1)])),_:1})),r(V,{class:"u-m-l-30",name:"arrow-right",color:"#a8b0bc"})])),_:1},8,["onClick"])])),_:1}),r($,{actions:y.typeList,show:y.typeListShow,"onUpdate:show":x.typeListShowChange,closeOnClickOverlay:!0,closeOnClickAction:!0,cancelText:"取消",onSelect:x.typeListClick},null,8,["actions","show","onUpdate:show","onSelect"]),r(q,{modelValue:y.editData.sendDate,"onUpdate:modelValue":a[7]||(a[7]=t=>y.editData.sendDate=t),show:y.sendDateShow,closeOnClickOverlay:!0,mode:"date",onConfirm:x.sendDateChange,onCancel:a[8]||(a[8]=t=>y.sendDateShow=!1)},null,8,["modelValue","show","onConfirm"]),r(G,{show:y.weightUnitOptionShow,items:y.weightUnitOption,selectItems:y.weightUnitOptionSelectItems,onClose:a[9]||(a[9]=t=>y.weightUnitOptionShow=!1),onConfirm:x.weightUnitOptionSelect},null,8,["show","items","selectItems","onConfirm"]),r(Y,{show:y.weightLoadUnitShow,box:y.weightLoadBox,onClose:a[10]||(a[10]=t=>y.weightLoadUnitShow=!1),onConfirm:x.editBoxLoad},null,8,["show","box","onConfirm"])])),_:1}),r(D,{class:"pr-bottom"},{default:l((()=>[r(D,{onClick:x.saveDraft},{default:l((()=>[r(V,{"label-pos":"bottom",label:"保存草稿箱",name:"/static/image/common/ic_draft.png","label-size":"10","label-color":"#272e3f",size:"17",space:"6"})])),_:1},8,["onClick"]),r(D,{class:"pr-bottom__btn",onClick:x.publishAction},{default:l((()=>[c("发布")])),_:1},8,["onClick"])])),_:1})])),_:1},8,["loading","skeleton"])}],["__scopeId","data-v-8aec430f"]]);export{Y as default};
