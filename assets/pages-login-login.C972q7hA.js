import{_ as e,Q as l,n as o,R as s,T as t,U as a,s as n,r,c as i,i as d,w as u,H as c,d as m,K as f,b as p,V as h,W as g,o as x,g as _,k as y,q as C,p as k,m as b}from"./index-B3fvMXoi.js";import{_ as w}from"./z-paging.Ctbk3ePi.js";import{_ as M}from"./login-wechat.BcCbROG6.js";const S=e({data:()=>({formRules:{nextPath:"",phone:[{required:!0,message:"请输入手机号",trigger:["change","blur"]},{validator:(e,l,o)=>uni.$u.test.mobile(l),message:"手机号码不正确",trigger:["change","blur"]}]},formModel:{phone:""}}),onLoad(e){e.path&&(this.nextPath=decodeURIComponent(e.path))},methods:{goBack(){l()},loginByPwd(){o({url:"/pages/login/loginpwd"})},sendSMSCode(){this.$refs.uForm.validate().then((e=>{this.toApiSMSCode()})).catch((e=>{}))},toApiSMSCode(){s({title:"正在发送...",mask:!0}),t(this.formModel.phone).then((e=>{if(e.data.code){a(),n({icon:"none",title:"验证码已发送"});const l={smsKey:e.data.code,phone:this.formModel.phone},s=JSON.stringify(l);o({url:"/pages/login/loginphone",success:function(e){e.eventChannel.emit("smsInfo",{data:s})}})}})).catch((e=>{a(),n({icon:"error",title:"发送失败"});const l={smsKey:"007",phone:this.formModel.phone},s=JSON.stringify(l);o({url:"/pages/login/loginphone",success:function(e){e.eventChannel.emit("smsInfo",{data:s})}})}))}}},[["render",function(e,l,o,s,t,a){const n=r(i("u-status-bar"),c),S=r(i("u-icon"),m),z=C,B=k,F=r(i("u-line"),f),v=r(i("u-input"),p),P=r(i("u-form-item"),h),A=r(i("u--form"),g),I=b,K=r(i("z-paging"),w);return x(),d(K,null,{bottom:u((()=>[_(z,{class:"u-p-b-60",style:{display:"flex","flex-direction":"column","align-items":"center"}},{default:u((()=>[_(z,{class:"u-flex u-flex-items-center"},{default:u((()=>[_(F,{length:"224rpx"}),_(B,{style:{"font-size":"24rpx",color:"#666e81",margin:"0 20rpx"}},{default:u((()=>[y("其他登录方式")])),_:1}),_(F,{length:"224rpx"})])),_:1}),_(z,{class:"u-m-t-40"},{default:u((()=>[_(I,{src:M,style:{width:"72rpx",height:"72rpx"}})])),_:1})])),_:1})])),default:u((()=>[_(z,null,{default:u((()=>[_(n),_(z,{class:"u-flex-y-center u-p-l-30",style:{width:"200rpx",height:"100rpx"},onClick:a.goBack},{default:u((()=>[_(S,{name:"close",color:"#292A2B",size:"20"})])),_:1},8,["onClick"])])),_:1}),_(z,{class:"u-m-t-30 u-margin-center-auto",style:{width:"600rpx"}},{default:u((()=>[_(z,{class:"l-title"},{default:u((()=>[y("短信验证码登录")])),_:1}),_(A,{ref:"uForm",style:{"margin-top":"80rpx"},rules:t.formRules,model:t.formModel},{default:u((()=>[_(P,{prop:"phone"},{default:u((()=>[_(v,{modelValue:t.formModel.phone,"onUpdate:modelValue":l[0]||(l[0]=e=>t.formModel.phone=e),placeholder:"请输入手机号码",border:"bottom"},{prefix:u((()=>[_(z,{class:"u-flex u-flex-items-center"},{default:u((()=>[_(B,{class:"l-area-code",slot:"prefix"},{default:u((()=>[y("+86")])),_:1}),_(S,{class:"u-m-l-16",name:"arrow-down-fill",size:"8",color:"#292A2B"}),_(F,{class:"u-m-l-16 u-m-r-6",direction:"col",length:"32rpx",color:"#E1E2E6"})])),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1},8,["rules","model"]),_(z,{class:"login-sendCode",onClick:a.sendSMSCode},{default:u((()=>[y(" 发送验证码 ")])),_:1},8,["onClick"]),_(z,{class:"login-byPwd",onClick:a.loginByPwd},{default:u((()=>[y(" 密码登录 ")])),_:1},8,["onClick"]),_(z,{class:"u-m-t-30 u-flex u-flex-items-center",style:{"font-size":"24rpx",color:"#2647FF"}},{default:u((()=>[_(S,{name:"checkmark-circle",color:"#2647FF",size:"16"}),_(B,{class:"u-m-l-10",style:{color:"#999999"}},{default:u((()=>[y("我已阅读并同意")])),_:1}),_(B,null,{default:u((()=>[y("《用户使用协议》")])),_:1}),_(B,null,{default:u((()=>[y("《隐私政策》")])),_:1})])),_:1})])),_:1})])),_:1})}],["__scopeId","data-v-a3a69ba0"]]);export{S as default};
