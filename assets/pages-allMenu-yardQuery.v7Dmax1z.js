import{_ as e,n as t,o as s,f as l,l as a,F as i,i as o,w as r,g as n,k as c,t as u,m as d,p as h,q as f,ck as p,cc as g,ca as y,aJ as m,cd as _,r as x,c as k,A as b,d as w,ac as C,a8 as F,ad as L,L as z,j as T,S as V,h as H}from"./index-oXtcu1jG.js";import{_ as v}from"./z-paging.5yIaKEvz.js";import{_ as $}from"./icon_yard.rvXD_vYk.js";const A=e({components:{yardItemVue:e({data:()=>({}),props:{list:{type:Array,default:[]}},methods:{detail(e){t({url:"/pages/allMenu/yardDetail?name="+e.stationname})}}},[["render",function(e,t,p,g,y,m){const _=d,x=h,k=f;return s(!0),l(i,null,a(p.list,((e,t)=>(s(),o(k,{key:t,class:"bg_white_radius_8 u-flex-column u-m-10 bg_item",onClick:t=>m.detail(e)},{default:r((()=>[n(k,{class:"u-flex u-flex-items-center",style:{padding:"24rpx"}},{default:r((()=>[n(_,{src:$,style:{width:"56rpx",height:"56rpx"}}),n(x,{style:{"font-size":"30rpx",color:"#292A2B","margin-left":"16rpx",flex:"1"}},{default:r((()=>[c(u(e.sname),1)])),_:2},1024)])),_:2},1024),n(k,{class:"u-flex-column bg_white_radius_8 u-p-24"},{default:r((()=>[n(k,null,{default:r((()=>[n(k,{class:"u-flex"},{default:r((()=>[n(x,{class:"text_gray"},{default:r((()=>[c(" 所属路局 ")])),_:1}),n(x,{class:"text_black u-m-l-16"},{default:r((()=>[c(u(e.railwaybureau),1)])),_:2},1024)])),_:2},1024),n(k,{class:"u-flex u-m-t-16"},{default:r((()=>[n(x,{class:"text_gray"},{default:r((()=>[c(" 所属地区 ")])),_:1}),n(x,{class:"text_black u-m-l-16"},{default:r((()=>[c(u(e.belongregion),1)])),_:2},1024)])),_:2},1024),n(k,{class:"u-flex u-m-t-16"},{default:r((()=>[n(x,{class:"text_gray"},{default:r((()=>[c(" 详细地址 ")])),_:1}),n(x,{class:"text_black u-m-l-16"},{default:r((()=>[c(u(e.czdz),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)}],["__scopeId","data-v-a8e0f9a9"]])},data:()=>({show:!1,keyword:"",listLabel:[],list:[],leftList:[],rightList:[],listType:[],listFunction:[{key:"全部",isChoosed:!0},{key:"集装箱办理站"},{key:"危险品办理站"},{key:"办理棚车装运货物"},{key:"办理敞车装运货物"},{key:"办理批量快运"}]}),onLoad(){this.getHistory(),setTimeout((()=>{this.$refs.paging.complete()}),300)},methods:{search(){this.$refs.paging.reload(!0),this.saveHistory()},clickLabel(e){this.keyword=e.record,this.$refs.paging.reload(!0)},getList(e,t){p({current:e,size:t,stationNames:[this.keyword],blType:this.listType,range:"本市",bool:1}).then((e=>{this.$refs.paging.complete(e.data.trainYardQueryList)})).catch((e=>{this.$refs.paging.complete(!1)}))},getHistory(){g("铁路货场").then((e=>{this.listLabel=e.data}))},saveHistory(){y("铁路货场",this.keyword).then((e=>{this.getHistory()}))},deleteHistory(e){m({title:"提示",content:"是否删除记录",success:t=>{t.confirm&&_(e).then((e=>{this.getHistory()}))}})},chooseFunction(e){let t=this.listFunction[e].key;if("全部"!=t)this.listFunction[e].isChoosed?(this.listType=this.listType.filter((e=>e!==t)),0==this.listType.length&&(this.listFunction[0].isChoosed=!0,this.listType=[])):this.listType.push(t),this.listFunction[0].isChoosed=!1,this.listFunction[e].isChoosed=!this.listFunction[e].isChoosed,this.$refs.paging.reload(!0);else{this.listType=[];for(var s=0;s<this.listFunction.length;s++)this.listFunction[s].isChoosed=e==s;this.$refs.paging.reload(!0)}}}},[["render",function(e,t,d,p,g,y){const m=x(k("u-icon"),w),_=x(k("u-navbar"),C),$=h,A=x(k("u-search"),F),j=f,E=V,I=b("yard-item-vue"),Q=x(k("u-waterfall"),L),S=x(k("z-paging"),v),U=x(k("u-popup"),z);return s(),l(i,null,[n(S,{ref:"paging",modelValue:g.list,"onUpdate:modelValue":t[3]||(t[3]=e=>g.list=e),onQuery:y.getList,auto:!1,style:{background:"no-repeat top/100% url(/static/image/share/bg_share.png)",padding:"0 30rpx"}},{top:r((()=>[n(_,{placeholder:!0,borderBottom:!1,bgColor:"transparent"},{right:r((()=>[n(m,{name:"/static/image/share/icon_custom.png",size:16,onClick:t[0]||(t[0]=e=>g.show=!0)},null,8,["name"])])),_:1}),n(j,{class:"u-flex-column u-flex-items-center"},{default:r((()=>[n($,{style:{"margin-top":"48rpx","font-size":"48rpx",color:"#000000","font-weight":"bold"}},{default:r((()=>[c(" 铁路货场查询 ")])),_:1}),n(A,{style:{width:"100%",margin:"40rpx 0 20rpx"},height:"44",showAction:!1,bgColor:"white",borderColor:"#2647FF",placeholder:"请输入关键词查询。如“平湖南站”",modelValue:g.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>g.keyword=e),onSearch:y.search},null,8,["modelValue","onSearch"]),g.listLabel.length>0?(s(),o(E,{key:0,"scroll-x":"true",style:{"white-space":"nowrap",margin:"10rpx 0"},"scroll-with-animation":"true"},{default:r((()=>[(s(!0),l(i,null,a(g.listLabel,((e,t)=>(s(),o(j,{key:t,class:"bg_white_radius_16",style:{display:"inline-block",padding:"10rpx 16rpx","margin-right":"16rpx"}},{default:r((()=>[n(j,{class:"u-flex u-flex-items-center"},{default:r((()=>[n($,{style:{"font-size":"22rpx",color:"#666E81"},onClick:t=>y.clickLabel(e)},{default:r((()=>[c(u(e.record),1)])),_:2},1032,["onClick"]),n(j,{style:{width:"1px",height:"9px",background:"#c7c7c7",margin:"0 12rpx"}}),n(m,{name:"close",color:"black",size:"7",onClick:t=>y.deleteHistory(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):T("",!0)])),_:1})])),default:r((()=>[n(Q,{modelValue:g.list,"onUpdate:modelValue":t[2]||(t[2]=e=>g.list=e)},{left:r((({leftList:e})=>[n(I,{list:e},null,8,["list"])])),right:r((({rightList:e})=>[n(I,{list:e},null,8,["list"])])),_:1},8,["modelValue"])])),_:1},8,["modelValue","onQuery"]),n(U,{show:g.show,round:"16",onClose:t[5]||(t[5]=e=>g.show=!1)},{default:r((()=>[n(j,{class:"u-flex-column",style:{padding:"40rpx 30rpx"}},{default:r((()=>[n(j,{class:"u-flex u-flex-between"},{default:r((()=>[n($,{style:{"font-size":"32rpx",color:"#272E3F","font-weight":"bold"}},{default:r((()=>[c(" 筛选 ")])),_:1}),n(m,{name:"close",color:"black",onClick:t[4]||(t[4]=e=>g.show=!1)})])),_:1}),n(j,{class:"u-flex u-m-t-48"},{default:r((()=>[n($,{style:{"font-size":"24rpx",color:"#666E81"}},{default:r((()=>[c(" 办理类型 ")])),_:1})])),_:1}),n(j,{class:"u-flex",style:{"flex-wrap":"wrap"}},{default:r((()=>[(s(!0),l(i,null,a(g.listFunction,((e,t)=>(s(),o(j,{class:H(e.isChoosed?"bg_filter_choosed":"bg_filter"),onClick:e=>y.chooseFunction(t),key:t},{default:r((()=>[c(u(e.key),1)])),_:2},1032,["class","onClick"])))),128))])),_:1})])),_:1})])),_:1},8,["show"])],64)}],["__scopeId","data-v-a964ca90"]]);export{A as default};
