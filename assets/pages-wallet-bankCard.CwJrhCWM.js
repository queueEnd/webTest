import{_ as e,n as s,cB as t,aQ as l,Q as i,aI as a,R as r,cC as o,s as d,U as c,r as n,c as u,f as h,g as f,w as g,i as p,j as _,F as x,ab as m,q as k,o as C,k as y,t as b,l as w,p as z,m as E}from"./index-B3fvMXoi.js";import{_ as F}from"./z-paging.Ctbk3ePi.js";const v=e({data:()=>({page:1,size:10,list:[],listChoosed:[],isEidt:!1}),onShow(){this.getList(this.page,this.size)},methods:{addCard(){s({url:"/pages/wallet/addBankCard"})},getList(e,s){this.page=e,this.size=s,t({current:e,size:s}).then((e=>{this.$refs.paging.complete(e.data.records)})).catch((e=>{this.$refs.paging.complete(!1)}))},getAll(){for(let e of this.list)e.isChecked=!0;this.listChoosed=this.list.slice()},choose(e){if(!this.isEidt)return l("bank",e),void i();if(e.isChecked=!e.isChecked,e.isChecked)this.listChoosed.includes(e)||this.listChoosed.push(e);else if(this.listChoosed.includes(e)){let s=this.listChoosed.indexOf(e);this.listChoosed.splice(s,1)}},remove(){a({title:"提示",content:"是否删除已选项？",success:e=>{if(e.confirm){let e="";for(let s of this.listChoosed)e=e+s.id+",";r({}),o(e).then((e=>{200!=e.code&&d({title:e.msg,icon:"error"}),this.$refs.paging.reload(!0)})).catch((e=>{d({title:"删除失败",icon:"error"})})).finally((e=>{c()}))}}})}}},[["render",function(e,s,t,l,i,a){const r=z,o=n(u("u-navbar"),m),d=E,c=k,v=n(u("z-paging"),F);return C(),h(x,null,[f(v,{ref:"paging",modelValue:i.list,"onUpdate:modelValue":s[1]||(s[1]=e=>i.list=e),onQuery:a.getList},{top:g((()=>[f(o,{placeholder:"",title:"银行卡"},{right:g((()=>[f(r,{class:"text_black_14",onClick:s[0]||(s[0]=e=>i.isEidt=!i.isEidt)},{default:g((()=>[y(b(i.isEidt?"取消":"编辑"),1)])),_:1})])),_:1})])),default:g((()=>[f(c,{class:"u-flex-column",style:{padding:"0 30rpx"}},{default:g((()=>[0==i.list.length?(C(),p(d,{key:0,src:"/assets/bg_add_card-MJWR_ln6.png",style:{height:"121px",width:"100%","margin-top":"20rpx"},onClick:a.addCard},null,8,["onClick"])):(C(),p(c,{key:1,class:"u-flex-column"},{default:g((()=>[(C(!0),h(x,null,w(i.list,((e,s)=>(C(),p(c,{key:s,class:"bg_card u-flex u-flex-items-center u-m-t-20",onClick:s=>a.choose(e)},{default:g((()=>[i.isEidt?(C(),p(d,{key:0,src:e.isChecked?"/static/image/smart/icon_radio_checked.png":"/static/image/smart/icon_radio_unchecked.png",style:{width:"32rpx",height:"32rpx","margin-right":"40rpx"}},null,8,["src"])):_("",!0),f(c,{class:"u-flex-column",style:{flex:"1"}},{default:g((()=>[f(c,{class:"u-flex u-flex-items-center",style:{margin:"40rpx 0"}},{default:g((()=>[f(d,{src:"/assets/icon_vip_function-C7gfj5kE.png",style:{width:"64rpx",height:"64rpx"}}),f(c,{class:"u-flex-column u-m-l-24"},{default:g((()=>[f(r,{class:"text_black_16"},{default:g((()=>[y(b(e.type),1)])),_:2},1024),f(r,{class:"text_gray_12"},{default:g((()=>[y(b(e.phone),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),f(c,{style:{"background-color":"#F1F3F5",height:"2rpx"}}),f(c,{class:"u-flex u-flex-between",style:{margin:"26rpx 0"}},{default:g((()=>[f(r,{class:"text_black_16"},{default:g((()=>[y(b(e.carnum),1)])),_:2},1024),f(r,{class:"text_gray_12"},{default:g((()=>[y(" 持卡人："+b(e.account),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)),f(c,{class:"bg_white_radius_8 u-m-t-20 u-flex-items-center u-flex-column",style:{padding:"26rpx"},onClick:a.addCard},{default:g((()=>[f(r,{class:"text_gray_14"},{default:g((()=>[y(" 添加银行卡 ")])),_:1})])),_:1},8,["onClick"])])),_:1}))])),_:1})])),_:1},8,["modelValue","onQuery"]),i.isEidt?(C(),p(c,{key:0,class:"bg_bottom u-flex"},{default:g((()=>[f(r,{style:{border:"1rpx solid #2647FF","border-radius":"8rpx","font-size":"28rpx",color:"#2647FF",flex:"1",padding:"26rpx 0","text-align":"center","margin-right":"30rpx"},onClick:a.getAll},{default:g((()=>[y(" 全选 ")])),_:1},8,["onClick"]),f(r,{style:{background:"#2647ff","border-radius":"8rpx","font-size":"28rpx",color:"white",flex:"1",padding:"26rpx 0","text-align":"center"},onClick:a.remove},{default:g((()=>[y(" 删除 ")])),_:1},8,["onClick"])])),_:1})):_("",!0)],64)}],["__scopeId","data-v-85b850b0"]]);export{v as default};
