import{_ as e,n as t,o as s,f as a,l,F as r,i,w as d,g as o,k as n,t as c,m as u,p as h,q as p,s as f,cu as g,cc as m,ca as _,aJ as x,cd as y,r as b,c as k,A,ac as C,b as L,d as w,ad as V,j as v,S as H}from"./index-oXtcu1jG.js";import{_ as z}from"./z-paging.5yIaKEvz.js";import{_ as $}from"./icon_station.C_YLZEG1.js";import{_ as T}from"./icon_exchange.BlSa8Ckc.js";const j=e({components:{dropItemVue:e({data:()=>({}),props:{list:{type:Array,default:[]}},methods:{detail(e){t({url:"/pages/allMenu/dropDetail",success:t=>{t.eventChannel.emit("data",e)}})}}},[["render",function(e,t,f,g,m,_){const x=u,y=h,b=p;return s(!0),a(r,null,l(f.list,((e,t)=>(s(),i(b,{key:t,class:"bg_white_radius_16 u-flex-column u-m-10",onClick:t=>_.detail(e)},{default:d((()=>[o(b,{class:"u-flex u-flex-items-center",style:{"background-color":"#ebf4ff50",padding:"24rpx"}},{default:d((()=>[o(x,{src:$,style:{width:"64rpx",height:"64rpx"}}),o(y,{style:{"font-size":"30rpx",color:"#292A2B","margin-left":"16rpx",flex:"1"}},{default:d((()=>[n(c(e.startaddress+"-"+e.endaddress),1)])),_:2},1024)])),_:2},1024),o(b,{class:"u-flex-column bg_white_radius_16 u-p-24"},{default:d((()=>[o(b,null,{default:d((()=>[o(b,{class:"u-flex"},{default:d((()=>[o(y,{class:"text_gray"},{default:d((()=>[n(" 箱型 ")])),_:1}),o(y,{class:"text_black u-m-l-16"},{default:d((()=>[n(c(e.boxtype),1)])),_:2},1024)])),_:2},1024),o(b,{class:"u-flex u-m-t-16"},{default:d((()=>[o(y,{class:"text_gray"},{default:d((()=>[n(" 品类 ")])),_:1}),o(y,{class:"text_black u-m-l-16 u-line-2"},{default:d((()=>[n(c(e.classification),1)])),_:2},1024)])),_:2},1024),o(b,{class:"u-flex u-m-t-16"},{default:d((()=>[o(y,{class:"text_gray"},{default:d((()=>[n(" 差价 ")])),_:1}),o(y,{class:"text_red u-m-l-16"},{default:d((()=>[n(c(e.pricedifference),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128)}],["__scopeId","data-v-91c46d12"]])},data:()=>({show:!1,startAddress:"",endAddress:"",listLabel:[],list:[],leftList:[],rightList:[]}),onLoad(){this.getHistory(),setTimeout((()=>{this.$refs.paging.complete()}),300)},methods:{search(){0!=this.startAddress.length?0!=this.endAddress.length?(this.$refs.paging.reload(!0),this.saveHistory()):f({title:"请输入目的地",icon:"error"}):f({title:"请输入起运地",icon:"error"})},clickLabel(e){let t=e.record.split("-");this.startAddress=t[0],this.endAddress=t[1],this.$refs.paging.reload(!0)},exchange(){let e=this.startAddress;this.startAddress=this.endAddress,this.endAddress=e},getList(e,t){g({current:e,size:t,classification:"",startaddress:this.startAddress,endaddress:this.endAddress,state:1}).then((e=>{this.$refs.paging.complete(e.data.splitFloatDataCompleteList)})).catch((e=>{this.$refs.paging.complete(!1)}))},getHistory(){m("铁路下浮").then((e=>{this.listLabel=e.data}))},saveHistory(){_("铁路下浮",this.startAddress+"-"+this.endAddress).then((e=>{this.getHistory()}))},deleteHistory(e){x({title:"提示",content:"是否删除记录",success:t=>{t.confirm&&y(e).then((e=>{this.getHistory()}))}})},chooseType(e){for(var t=0;t<this.listType.length;t++)this.listType[t].isChoosed=e==t,e==t&&(this.searchType=this.listType[e].value);this.$refs.paging.reload(!0),this.show=!1}}},[["render",function(e,t,f,g,m,_){const x=h,y=b(k("u-navbar"),C),$=b(k("u-input"),L),j=u,U=p,I=b(k("u-icon"),w),B=H,D=A("drop-item-vue"),F=b(k("u-waterfall"),V),M=b(k("z-paging"),z);return s(),i(M,{ref:"paging",modelValue:m.list,"onUpdate:modelValue":t[3]||(t[3]=e=>m.list=e),onQuery:_.getList,auto:!1,style:{background:"no-repeat top/100% url(/static/image/share/bg_share.png)",padding:"0 30rpx"}},{top:d((()=>[o(y,{placeholder:!0,borderBottom:!1,bgColor:"transparent"},{right:d((()=>[o(x,{class:"bg_search",onClick:_.search},{default:d((()=>[n(" 查询 ")])),_:1},8,["onClick"])])),_:1}),o(U,{class:"u-flex-column u-flex-items-center"},{default:d((()=>[o(x,{style:{"margin-top":"48rpx","font-size":"48rpx",color:"#000000","font-weight":"bold"}},{default:d((()=>[n(" 铁路下浮 ")])),_:1}),o(U,{class:"u-flex u-flex-items-center",style:{margin:"20rpx 0"}},{default:d((()=>[o($,{modelValue:m.startAddress,"onUpdate:modelValue":t[0]||(t[0]=e=>m.startAddress=e),"auto-height":!0,placeholder:"起运地",border:"bottom"},null,8,["modelValue"]),o(j,{src:T,style:{width:"60rpx",height:"60rpx",margin:"0 40rpx"},onClick:_.exchange},null,8,["onClick"]),o($,{modelValue:m.endAddress,"onUpdate:modelValue":t[1]||(t[1]=e=>m.endAddress=e),"auto-height":!0,placeholder:"目的地",border:"bottom"},null,8,["modelValue"])])),_:1}),m.listLabel.length>0?(s(),i(B,{key:0,"scroll-x":"true",style:{"white-space":"nowrap",margin:"10rpx 0"},"scroll-with-animation":"true"},{default:d((()=>[(s(!0),a(r,null,l(m.listLabel,((e,t)=>(s(),i(U,{key:t,class:"bg_white_radius_16",style:{display:"inline-block",padding:"10rpx 16rpx","margin-right":"16rpx"}},{default:d((()=>[o(U,{class:"u-flex u-flex-items-center"},{default:d((()=>[o(x,{style:{"font-size":"22rpx",color:"#666E81"},onClick:t=>_.clickLabel(e)},{default:d((()=>[n(c(e.record),1)])),_:2},1032,["onClick"]),o(I,{name:"close",size:"14",style:{"margin-left":"10rpx"},onClick:t=>_.deleteHistory(e.id)},null,8,["onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})):v("",!0)])),_:1})])),default:d((()=>[o(F,{modelValue:m.list,"onUpdate:modelValue":t[2]||(t[2]=e=>m.list=e)},{left:d((({leftList:e})=>[o(D,{list:e},null,8,["list"])])),right:d((({rightList:e})=>[o(D,{list:e},null,8,["list"])])),_:1},8,["modelValue"])])),_:1},8,["modelValue","onQuery"])}],["__scopeId","data-v-d812f4e0"]]);export{j as default};
