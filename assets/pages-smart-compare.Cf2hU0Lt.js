import{_ as e,at as t,aJ as l,T as s,ap as i,s as a,V as r,n as o,r as n,c,f as d,g as f,w as p,i as u,F as x,ac as g,d as h,q as m,o as _,k as y,t as b,l as k,p as C,aj as z,j as F,m as w}from"./index-FwbBwjbJ.js";import{_ as E}from"./z-paging.B7jAqyNm.js";import{_ as j}from"./icon_arrow.D1jJ-NuQ.js";const v=e({data:()=>({list:[],listChoosed:[],isEidt:!1}),methods:{getList(e,l){t({current:e,size:l}).then((e=>{this.$refs.paging.complete(e.data.records)})).catch((e=>{this.$refs.paging.complete(!1)}))},getAll(){for(let e of this.list)e.isChecked=!0;this.listChoosed=this.list.slice()},choose(e){if(e.isChecked=!e.isChecked,e.isChecked)this.listChoosed.includes(e)||this.listChoosed.push(e);else if(this.listChoosed.includes(e)){let t=this.listChoosed.indexOf(e);this.listChoosed.splice(t,1)}},remove(){l({title:"提示",content:"是否删除已选项？",success:e=>{if(e.confirm){let e="";for(let t of this.listChoosed)e=e+t.lineboxid+",";s({}),i(e).then((e=>{200!=e.code&&a({title:e.msg,icon:"error"}),this.$refs.paging.reload(!0)})).catch((e=>{a({title:"删除失败",icon:"error"})})).finally((e=>{r()}))}}})},startCompare(){if(this.listChoosed.length<2)return void a({title:"请选择两条及以上线路",icon:"error"});let e="";for(let t of this.listChoosed)e=e+t.lineboxid+",";o({url:"/pages/smart/compareDetail?ids="+e})},goDetail(e){o({url:"/pages/smart/planIntroduce?id="+e.lineboxid})}}},[["render",function(e,t,l,s,i,a){const r=C,o=n(c("u-navbar"),g),v=n(c("u-icon"),h),A=m,B=w,V=n(c("z-paging"),E);return _(),d(x,null,[f(V,{ref:"paging",modelValue:i.list,"onUpdate:modelValue":t[1]||(t[1]=e=>i.list=e),onQuery:a.getList,style:{"padding-bottom":"130rpx"}},{top:p((()=>[f(o,{placeholder:!0,borderBottom:!1,title:"线路对比"},{right:p((()=>[f(r,{style:{"font-size":"28rpx",color:"#272E3F"},onClick:t[0]||(t[0]=e=>i.isEidt=!i.isEidt)},{default:p((()=>[y(b(i.isEidt?"取消":"编辑"),1)])),_:1})])),_:1})])),default:p((()=>[(_(!0),d(x,null,k(i.list,((e,t)=>(_(),u(A,{class:"bg_white_radius_16 u-flex-column",style:{margin:"20rpx 30rpx 0rpx"},key:t,onClick:t=>a.choose(e)},{default:p((()=>[f(A,{class:"u-flex u-flex-between"},{default:p((()=>[f(r,{class:"bg_no"},{default:p((()=>[y(b(e.productNo),1)])),_:2},1024),f(A,{onClick:z((t=>a.goDetail(e)),["stop"])},{default:p((()=>[f(v,{name:"play-right-fill",size:"10",color:"#2647FF",label:"方案介绍","label-size":"10","label-color":"#2647FF","label-pos":"left",style:{margin:"18rpx 30rpx 0"}})])),_:2},1032,["onClick"])])),_:2},1024),f(A,{class:"u-flex u-flex-items-center u-flex-center"},{default:p((()=>[f(B,{src:e.isChecked?"/static/image/smart/icon_radio_checked.png":"/static/image/smart/icon_radio_unchecked.png",style:{width:"32rpx",height:"32rpx","margin-left":"20rpx"}},null,8,["src"]),f(A,{class:"u-flex-column",style:{flex:"1"}},{default:p((()=>[f(A,{class:"u-flex u-flex-items-center",style:{"align-items":"baseline",margin:"30rpx"}},{default:p((()=>[f(A,{class:"u-flex-column",style:{flex:"1"}},{default:p((()=>[f(r,{style:{color:"#292A2B","font-size":"32rpx"}},{default:p((()=>[y(b(e.startfullname),1)])),_:2},1024),f(r,{class:"u-line-2",style:{color:"#666E81","font-size":"24rpx","margin-top":"10rpx"}},{default:p((()=>[y(b(e.startdetail),1)])),_:2},1024)])),_:2},1024),f(A,{class:"u-flex-column u-flex-items-center"},{default:p((()=>[f(r,{style:{"font-size":"20rpx",color:"#666E81"}},{default:p((()=>[y(b(e.linetype),1)])),_:2},1024),f(B,{src:j,style:{width:"132rpx",height:"12rpx",margin:"0 20rpx","align-self":"center"}})])),_:2},1024),f(A,{class:"u-flex-column",style:{flex:"1","align-items":"flex-end"}},{default:p((()=>[f(r,{style:{color:"#292A2B","font-size":"32rpx","text-align":"end"}},{default:p((()=>[y(b(e.endfullname),1)])),_:2},1024),f(r,{class:"u-line-2",style:{color:"#666E81","font-size":"24rpx","margin-top":"10rpx","text-align":"end"}},{default:p((()=>[y(b(e.enddetail),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),f(A,{class:"u-flex u-flex-items-center",style:{margin:"0 30rpx"}},{default:p((()=>[f(r,{class:"text_gray_11"},{default:p((()=>[y(b(e.boxtype),1)])),_:2},1024),f(A,{style:{width:"1px",height:"18px",background:"#c9ccd0",margin:"0 8rpx"}}),f(r,{class:"text_gray_11"},{default:p((()=>[y("预计"+b(e.aging)+"h",1)])),_:2},1024),f(A,{style:{width:"1px",height:"18px",background:"#c9ccd0",margin:"0 8rpx"}}),f(r,{class:"text_gray_11"},{default:p((()=>[y(b(e.distance)+"km",1)])),_:2},1024),f(A,{style:{width:"1px",height:"18px",background:"#c9ccd0",margin:"0 8rpx"}}),f(r,{class:"text_gray_11"},{default:p((()=>[y(b(e.carbonemission)+"kg碳排放",1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),f(A,{class:"u-flex u-flex-items-center",style:{margin:"30rpx","justify-content":"space-between"}},{default:p((()=>[f(v,{name:"/static/image/smart/icon_logo.png",size:"16",label:e.customer,"label-size":"12","label-color":"#292A2B",space:"8"},null,8,["label"]),f(A,{class:"u-flex-column"},{default:p((()=>[f(A,{class:"u-flex",style:{"align-items":"baseline"}},{default:p((()=>[e.preprice>0?(_(),u(r,{key:0,style:{"font-size":"20rpx",color:"#666E81","text-decoration":"line-through"}},{default:p((()=>[y(" ￥"+b(e.price),1)])),_:2},1024)):F("",!0),f(r,{style:{"font-size":"28rpx",color:"#FF0003","margin-left":"12rpx"}},{default:p((()=>[y(" ￥ ")])),_:1}),f(r,{style:{"font-size":"44rpx",color:"#FF0003"}},{default:p((()=>[y(b(e.preprice>0?e.preprice:e.price),1)])),_:2},1024)])),_:2},1024),e.preprice>0?(_(),u(r,{key:0,style:{"font-size":"20rpx",color:"#FF0003","text-align":"end"}},{default:p((()=>[y(" 已优惠￥"+b((e.price-e.preprice).toFixed(2)),1)])),_:2},1024)):F("",!0)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["modelValue","onQuery"]),i.isEidt?(_(),u(A,{key:0,class:"bg_bottom u-flex"},{default:p((()=>[f(r,{style:{border:"1rpx solid #2647FF","border-radius":"8rpx","font-size":"28rpx",color:"#2647FF",flex:"1",padding:"26rpx 0","text-align":"center","margin-right":"30rpx"},onClick:a.getAll},{default:p((()=>[y(" 全选 ")])),_:1},8,["onClick"]),f(r,{style:{background:"#2647ff","border-radius":"8rpx","font-size":"28rpx",color:"white",flex:"1",padding:"26rpx 0","text-align":"center"},onClick:a.remove},{default:p((()=>[y(" 删除("+b(i.listChoosed.length)+") ",1)])),_:1},8,["onClick"])])),_:1})):(_(),u(A,{key:1,class:"bg_bottom u-flex"},{default:p((()=>[f(r,{style:{background:"#2647ff","border-radius":"8rpx","font-size":"28rpx",color:"white",flex:"1",padding:"26rpx 0","text-align":"center"},onClick:a.startCompare},{default:p((()=>[y(" 开始对比("+b(i.listChoosed.length)+") ",1)])),_:1},8,["onClick"])])),_:1}))],64)}],["__scopeId","data-v-77dce4f1"]]);export{v as default};
